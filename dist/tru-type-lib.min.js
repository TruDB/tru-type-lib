var app=angular.module("tru.type.lib",["std.adorner.edit","std.checkbox.edit","std.date.edit","std.datetime.edit","std.datetime.span.edit","std.decimal.edit","std.time.edit","std.dropdown.edit","std.file.edit","std.float.edit","std.integer.edit","std.link.edit","std.masked.edit","std.multiline.edit","std.password.edit","std.percent.edit","std.text.edit","std.textbox.edit","std.intl.address.basic.edit","std.intl.address.edit","std.intl.phone.number.edit","std.na.phone.edit","std.usa.address.edit","std.usa.address.zip.9.edit","std.usa.dollar.edit","std.usa.zip.5.edit","std.usa.zip.9.edit","std.record.picker.edit","std.intl.phone.edit","std.intl.state.edit","std.country.code.edit","std.checkbox.query","std.date.query","std.date.span.query","std.date.range.query","std.datetime.query","std.datetime.range.query","std.decimal.query","std.dropdown.query","std.float.query","std.integer.query","std.integer.range.query","std.or.list.checkbox.query","std.radio.list.button.query","std.textbox.query","std.intl.address.basic.query","std.intl.address.query","std.usa.address.query","std.usa.dollar.query","std.boolean.dropdown.query","std.record.picker.query","std.null.not.null.query","std.checkbox.list","std.text.list","std.formatters","std.trap.focus","std.grid.focus","std.search.focus","std.resizable","std.date","std.time","std.datetime","std.calendar","std.display","std.decimal","std.duration","std.integer.only","std.number.only","std.mask","std.max","std.file.change","std.file.reader","std.operator.lookup","std.indeterminate","std.util","std.download","std.float","std.usa.dollar","std.select.value.converter","std.filter","std.percent","std.modal","std.zip","std.na.phone","std.countries","std.intl.phone"]);!function(){"use strict";angular.module("std.formatters",[])}(),function(){"use strict";var a=angular.module("std.adorner.edit",[]);a.controller("stdAdornerEditController",["$scope",function(){}]),a.directive("stdAdornerEdit",["$templateCache","$compile","$timeout","stdUtil",function(a,b,c,d){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-adorner-edit.html"),controller:"stdAdornerEditController",link:function(a,c){var e=d.getClosestParentByClass(c[0],".ui-grid-render-container"),f=c.parent().parent(),g=c.parent();a.onFocus=function(){f.css("overflow","visible"),g.css("overflow","visible");var d='<div class="ttl-adorner" style="position:relative;overflow:" tru-focus-first focus="true" tru-label-container><div style="position:absolute;z-index:1000;top:0;left:0;background:#fff;border:1px lightgray solid;width:inherit;padding:5px;"><std-usa-address-edit field="field"></std-usa-address-edit></div></div>';c.html(d),b(c.contents())(a);var h=c[0].querySelectorAll("input,select,textarea"),i=h[h.length-1];i.onkeydown=function(a){a=a||window.event,9==a.keyCode&&(e.focus(),f.css("overflow","hidden"),g.css("overflow","hidden"),c.remove())}}}}}])}(),function(){"use strict";var a=angular.module("std.checkbox.edit",[]);a.directive("stdCheckboxEdit",["$templateCache","stdDisplay","stdUtil",function(a,b,c){return{restrict:"E",scope:{field:"=",label:"@"},template:function(b){return a.get(c.getClosestParentByClass(b[0],".ui-grid-render-container")?"src/templates/list/std-checkbox-list-edit.html":"src/templates/edit/std-checkbox-edit.html")},link:function(a,c){var d,e=(a.field.property.default,a.field.type.isNullable),f=c[0].querySelectorAll("input")[0];angular.element(f).bind("focus",function(){d=a.field.value.$,a.field.context.isGrid||f.select(),a.field.context.isGrid&&a.$apply(function(){a.field.value.$=!a.field.value.$})}),angular.element(f).bind("keydown",function(b){27===b.keyCode&&(a.field.value.$=d,f.blur())}),a.$watch("field.value.$",function(){f.indeterminate=e||null!==a.field.value.$?!1:!0}),b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.country.code.edit",[]);a.directive("stdCountryCodeEdit",["$templateCache","stdDisplay","stdCountries",function(a,b,c){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-country-code-edit.html"),link:function(a,d){var e="us"|a.field.value.$;a.countries=c.allCountries,a.data={value:0,selectedCountry:_.find(c,function(a){return a.iso2===e}),selectedCountryIso2:e},a.onChange=function(b){a.data.selectedCountryIso2=b.iso2,a.field.value.$=b.iso2},b.setVisibility(d,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.date.edit",[]);a.directive("stdDateEdit",["$templateCache","$timeout","$document","stdDisplay",function(a,b,c,d){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-date-edit.html"),link:function(a,b){d.setVisibility(b,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.datetime.edit",[]);a.controller("stdDatetimeEditController",["$scope",function(a){a.setPeriod=function(){a.field.property.period="AM"===a.field.property.period?"PM":"AM"}}]),a.directive("stdDatetimeEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-datetime-edit.html"),controller:"stdDatetimeEditController",link:function(a,c){var d=c[0].querySelectorAll("input")[0];angular.element(d).bind("keydown",function(b){46===b.keyCode&&(a.field.value.$=null)}),b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.datetime.span.edit",[]);a.controller("stdDatetimeSpanEditController",["$scope","$timeout","$element",function(){}]),a.directive("stdDatetimeSpanEdit",["$templateCache","$timeout","$filter","stdDisplay",function(a,b,c,d){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-datetime-span-edit.html"),controller:"stdDatetimeSpanEditController",link:function(a,b){function e(a){var b=a.split(/[\s\/:]+/);return b=b.slice(0,3),b.join("")}function f(a){var b=a.split(/[\s\/:]+/),c=b[5];b=b.slice(3,5);var d=parseInt(b[0]),e=b[1];return"AM"===c&&12===d?d=0:"PM"===c&&12>d&&(d+=12),d.toString()+e}var g=[].slice.call(b[0].querySelectorAll("input"),0),h=g.map(function(a){return angular.element(a).controller("ngModel")});g[0].addEventListener("blur",function(){var b=angular.copy(a.field.children.start.value.$),d=angular.copy(a.field.children.end.value.$);if(d&&d instanceof Date&&b&&b instanceof Date){var i=parseInt(e(g[0].value)),j=parseInt(f(g[0].value)),k=parseInt(e(g[1].value)),l=parseInt(f(g[1].value));i>k&&j>l?(h[1].$setViewValue(c("date")(b,"MM/dd/yyyy hh:mm a")),h[1].$render()):i>k&&l>=j?(b.setHours(d.getHours()),b.setMinutes(d.getMinutes()),h[1].$setViewValue(c("date")(b,"MM/dd/yyyy hh:mm a")),h[1].$render()):i===k&&j>l&&(b.setFullYear(d.getFullYear()),b.setMonth(d.getMonth()),b.setDate(d.getDate()),h[1].$setViewValue(c("date")(b,"MM/dd/yyyy hh:mm a")),h[1].$render())}},!0),g[1].addEventListener("blur",function(){var b=angular.copy(a.field.children.end.value.$),d=angular.copy(a.field.children.start.value.$);if(d&&d instanceof Date&&b&&b instanceof Date){var i=parseInt(e(g[0].value)),j=parseInt(f(g[0].value)),k=parseInt(e(g[1].value)),l=parseInt(f(g[1].value));i>k&&j>l?(h[0].$setViewValue(c("date")(b,"MM/dd/yyyy hh:mm a")),h[0].$render()):i>k&&l>=j?(b.setHours(d.getHours()),b.setMinutes(d.getMinutes()),h[0].$setViewValue(c("date")(b,"MM/dd/yyyy hh:mm a")),h[0].$render()):i===k&&j>l&&(b.setFullYear(d.getFullYear()),b.setMonth(d.getMonth()),b.setDate(d.getDate()),h[0].$setViewValue(c("date")(b,"MM/dd/yyyy hh:mm a")),h[0].$render())}},!0),d.setVisibility(b,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.decimal.edit",[]);a.directive("stdDecimalEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-decimal-edit.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.dropdown.edit",[]);a.controller("stdDropdownEditController",["$scope","$element","$timeout",function(a,b,c){var d=this;d.unregOnChoicesChange=void 0,d.select=b[0].querySelectorAll("select")[0],a.data={},d.updateData=function(){if(a.choices.length>0){if(a.field.type.isNullable){var d=_.find(a.choices,function(a){return" "===a.label});d||a.choices.unshift({label:" ",value:{$:-1}})}a.field.value.$&&(a.data.value=a.field.value.$),a.field.type.isNullable&&!a.field.value.$&&(a.data.value=a.choices[0].value.$)}a.data.show=!0,a.field.context.isGrid&&c(function(){var a=b[0].querySelectorAll("select")[0];a.focus()})},d.checkForInactiveValues=function(b){var c=_.find(b,function(b){return b.value.$===a.field.value.$});!c&&a.field.value.$&&a.field.queryByRef?a.field.queryByRef(a.field.value.$).then(function(c){c&&b.push({label:c.label,value:{$:a.field.value.$},notAnOption:!0}),a.choices=b,d.updateData(),d.updateOptions()}):(a.choices=b,d.updateData(),d.updateOptions())},d.loadChoices=function(b){null==b?a.data.show=!1:(b=b.slice(),d.checkForInactiveValues(b))},d.updateValue=function(){a.data.value=void 0,a.choices&&a.choices.length&&(a.choices=_.reject(a.choices,function(a){return a.notAnOption===!0}),d.checkForInactiveValues(a.choices))},d.updateOptions=function(){c(function(){var c=b[0].querySelectorAll("select")[0];angular.element(c).removeClass("not-an-option"),angular.forEach(a.choices,function(a,b){var d=c.querySelectorAll('option:not([value="?"])')[b];angular.element(d).removeClass("not-an-option"),a.notAnOption?(angular.element(d).addClass("not-an-option"),angular.element(c).addClass("not-an-option")):angular.element(d).addClass("an-option")})})},d.unregOnChoicesChange=a.field.onChoicesChanged(d.loadChoices),a.onChange=function(){a.choices=_.reject(a.choices,function(a){return a.notAnOption===!0}),a.field.value.$=-1===a.data.value?null:a.data.value};var e="function"==typeof a.field.goTo,f="function"==typeof a.field.hasRole,g=!f||a.field.hasRole();a.goTo=function(){e&&f&&g&&a.field.goTo()},a.showGoTo=!1;var h="undefined"==typeof a.field.context.isGrid;e&&h&&g&&(a.showGoTo=!0),a.$watch("field.value.$",function(){d.updateValue()}),a.$on("$destroy",function(){d.unregOnChoicesChange()})}]),a.directive("stdDropdownEdit",["$templateCache","stdDisplay","$timeout","stdUtil",function(a,b,c){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-dropdown-edit.html"),controller:"stdDropdownEditController",link:function(a,d){var e,f=d[0].querySelectorAll("select")[0],g=d[0].querySelectorAll("button")[0];angular.element(f).bind("focus",function(){e=a.field.value.$,a.field.context.isGrid&&c(function(){var a=document.createEvent("MouseEvents");a.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),f.dispatchEvent(a)})}),angular.element(f).bind("keydown",function(b){27===b.keyCode&&(a.field.value.$=e,f.blur()),46===b.keyCode&&(-1===a.data.value,a.field.value.$=null),b.ctrlKey&&71===b.keyCode&&(b.preventDefault(),a.goTo(),c(function(){f.focus()}))}),angular.element(g).bind("keydown",function(b){13===b.keyCode&&b.preventDefault(),b.ctrlKey&&71===b.keyCode&&(b.preventDefault(),a.goTo(),c(function(){f.focus()}))}),b.setVisibility(d,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.file.edit",[]);a.controller("stdFileEditController",["$scope","$element","$compile","stdFileReader",function(a,b,c,d){var e=this;e.data=void 0,e.filename=void 0,e.mimeType=void 0,e.anchorElement=void 0,e.fileElement=void 0,e.renderElement=void 0,e.canvasElement=void 0,e.videoElement=void 0,e.setAnchorElement=function(a){e.anchorElement=angular.element(a)},e.setFileElement=function(a){e.fileElement=angular.element(a)},e.setRenderElement=function(a){e.renderElement=angular.element(a)},e.clear=function(){e.renderElement&&(e.renderElement.children().remove(),c(e.renderElement.contents())(a))},e.buildBase64=function(){if(e.data){var a=e.data.split(",");return 2===a.length&&(e.data=a[1]),"data:"+e.mimeType+";base64,"+e.data}},e.appendCanvasElement=function(){e.renderElement.append(e.canvasElement),c(e.renderElement.contents())(a)},e.appendVideoElement=function(){e.videoElement.setAttribute("src",e.data),e.videoElement.setAttribute("controls","controls"),e.renderElement.append(e.videoElement),c(e.renderElement.contents())(a)},e.loadImage=function(){var a=new Image;a.onload=function(){e.canvasElement.height=a.height,e.canvasElement.width=a.width,e.canvasElement.getContext("2d").drawImage(a,0,0,a.width,a.height)},a.src=e.data},e.loadAppIcon=function(){var a=void 0;switch(e.mimeType.split("/")[1]){case"msword":a="ico-file-word";break;case"vnd.ms-word.document.macroEnabled.12":a="ico-file-word";break;case"vnd.openxmlformats-officedocument.wordprocessingml.document":a="ico-file-word";break;case"pdf":a="ico-file-pdf";break;case"vnd.ms-powerpoint":a="ico-file-powerpoint";break;case"vnd.ms-powerpoint.presentation.macroEnabled.12":a="ico-file-powerpoint";break;case"vnd.openxmlformats-officedocument.presentationml.presentation":a="ico-file-powerpoint";break;case"x-msexcel":a="ico-file-excel";break;case"vnd.ms-excel.sheet.macroEnabled.12":a="ico-file-excel";break;case"vnd.openxmlformats-officedocument.spreadsheetml.sheet":a="ico-file-excel";break;case"zip":a="ico-file-zip";break;case"plain":a="ico-libreoffice";break;default:a="ico-file"}var b='<i class="ttl-file-icon '+a+'"></i>';e.renderElement.append(b)},e.setType=function(){e.clear(),e.data=e.buildBase64();var a=e.mimeType.split("/")[0];switch(a){case"image":e.canvasElement=document.createElement("canvas"),e.appendCanvasElement(),e.loadImage();break;case"video":e.videoElement=document.createElement("video"),e.appendVideoElement();break;case"application":e.loadAppIcon();break;case"text":e.loadAppIcon();break;default:throw new Error("Unsupported Content Type")}navigator.msSaveBlob||(e.anchorElement[0].setAttribute("href",e.data),e.anchorElement[0].setAttribute("download",e.filename))},e.init=function(){if(a.noDataMessage=void 0,e.renderElement&&e.choices){if(!a.field.value.data)return e.clear(),void(a.noDataMessage="No file uploaded");e.data=a.field.value.data,e.filename=a.field.children.filename.value.$,e.mimeType=a.field.children.mimeType.value.$?e.choices.filter(function(b){return b.value.$===a.field.children.mimeType.value.$})[0].label:"text/plain",e.setType()}},e.getMimeTypes=function(a){a&&(e.choices=a,e.init())},e.unregOnChoicesChangeForMime=a.field.children.mimeType.onChoicesChanged(e.getMimeTypes),a.noDataMessage=void 0,a.upload=function(){e.fileElement[0].click()},a.download=function(){if(navigator.msSaveBlob){for(var b=atob(a.field.value.data),c=new ArrayBuffer(b.length),d=new Uint8Array(c),f=0;f<b.length;f++)d[f]=b.charCodeAt(f);var g=new Blob([c],{type:e.mimeType});navigator.msSaveBlob(g,e.filename)}},a.fileChanged=function(b){d.read(b.target.files[0],a.field.type.property.allowed).then(function(b){a.noDataMessage=void 0,b.mimeType=b.mimeType?b.mimeType:"text/plain";var c=e.choices.filter(function(a){return a.label.toLowerCase()===b.mimeType});return 0===c.length?void alert("Unsupported MimeType: "+b.mimeType):(a.field.children.mimeType.value.$=c[0].value.$,a.field.children.filename.value.$=b.filename,a.$apply(function(){a.field.value.data=b.data.split(",")[1]}),e.mimeType=b.mimeType,e.filename=b.filename,e.data=b.data.split(",")[1],void e.setType())})},a.$watch("field.value.data",function(){e.init()}),a.$on("$destroy",function(){e.unregOnChoicesChangeForMime()})}]),a.directive("stdFileEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},controller:"stdFileEditController",template:a.get("src/templates/edit/std-file-edit.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay);var d=c.data("$stdFileEditController");d.setAnchorElement(c[0].querySelectorAll(".anchorElement")[0]),d.setFileElement(c[0].querySelectorAll(".fileElement")[0]),d.setRenderElement(c[0].querySelectorAll(".renderElement")[0]),d.getMimeTypes()}}}])}(),function(){"use strict";var a=angular.module("std.float.edit",[]);a.directive("stdFloatEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-float-edit.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.integer.edit",[]);a.directive("stdIntegerEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-integer-edit.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.intl.address.basic.edit",[]);a.directive("stdIntlAddressBasicEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-intl-address-basic-edit.html"),link:{post:function(a,c){var d=angular.element(c[0].querySelectorAll("label")[4]),e=angular.element(c[0].querySelectorAll("label")[5]);d.addClass("ttl-no-label-width"),e.addClass("ttl-no-label-width"),b.setVisibility(c,a.field.type.canDisplay)}}}}])}(),function(){"use strict";var a=angular.module("std.intl.address.edit",[]);a.directive("stdIntlAddressEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-intl-address-edit.html"),link:{post:function(a,c){var d=angular.element(c[0].querySelectorAll("label")[5]),e=angular.element(c[0].querySelectorAll("label")[6]),f=angular.element(c[0].querySelectorAll("label")[7]);d.addClass("ttl-no-label-width"),e.addClass("ttl-no-label-width"),f.addClass("ttl-no-label-width"),b.setVisibility(c,a.field.type.canDisplay),a.showStateProvinceText=!0,a.$watch("field.children.country.value.$",function(b,c){b!==c&&(a.showStateProvinceText=236===b||39===b?!1:!0)})}}}}])}(),function(){"use strict";var a=angular.module("std.intl.phone.edit",[]);a.directive("stdIntlPhoneEdit",["$templateCache","stdDisplay","stdCountries",function(a,b,c){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-intl-phone-edit.html"),link:function(a,d){function e(){var b,d;a.field.children.countryCode.value.$?(b=_.find(c.allCountries,function(b){return b.iso2===a.field.children.countryCode.value.$}),d=b.dialCode):(b=_.find(c.allCountries,function(b){return b.iso2===a.field.property.countryCode}),d=b.dialCode),a.countries=c.allCountries,a.data={value:0,selectedCountry:b,selectedCountryIso2:b.iso2,dialCode:d},a.field.property.dialCode=b.dialCode,a.onCountryCodeChange=function(b){a.field.children.countryCode.value.$=b.iso2,a.field.property.dialCode=b.dialCode,a.field.children.phone.value.$=void 0}}e(),a.$watch("field.children.phone.value.$",function(){e()}),b.setVisibility(d,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.intl.phone.number.edit",[]);a.directive("stdIntlPhoneNumberEdit",["$templateCache","$timeout","stdDisplay",function(a,b,c){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-intl-phone-number-edit.html"),link:function(a,b){a.data={dialCode:1},a.$watch("field.countryCode.value.$",function(){}),c.setVisibility(b,a.field.phone.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.intl.state.edit",[]);a.controller("stdIntlStateEditController",["$scope","$element","$timeout",function(a,b,c){var d=this;d.unregOnChoicesChange=void 0,d.select=b[0].querySelectorAll("select")[0],a.data={},d.updateData=function(){if(a.choices.length>0){if(a.field.stateProvince.type.isNullable){var d=_.find(a.choices,function(a){return" "===a.label});d||a.choices.unshift({label:" ",value:{$:-1}})}a.field.stateProvince.value.$&&(a.data.value=a.field.value.$),a.field.stateProvince.type.isNullable&&!a.field.stateProvince.value.$&&(a.data.value=a.choices[0].value.$)}a.data.show=!0,a.field.stateProvince.context.isGrid&&c(function(){var a=b[0].querySelectorAll("select")[0];a.focus()}),a.filteredChoices=_.filter(a.choices,function(b){b.stdIntlCountryRef===a.field.country.value.$})},d.checkForInactiveValues=function(b){var c=_.find(b,function(b){return b.value.$===a.field.stateProvince.value.$});!c&&a.field.stateProvince.value.$&&a.field.stateProvince.queryByRef?a.field.stateProvince.queryByRef(a.field.StateProvince.value.$).then(function(c){c&&b.push({label:c.label,value:{$:a.field.stateProvince.value.$},notAnOption:!0}),a.choices=b,d.updateData(),d.updateOptions()}):(a.choices=b,d.updateData(),d.updateOptions())},d.loadChoices=function(b){null==b?a.data.show=!1:(b=b.slice(),d.checkForInactiveValues(b))},d.updateValue=function(){a.data.value=void 0,a.choices&&a.choices.length&&(a.choices=_.reject(a.choices,function(a){return a.notAnOption===!0}),d.checkForInactiveValues(a.choices))},d.updateOptions=function(){c(function(){var c=b[0].querySelectorAll("select")[0];angular.element(c).removeClass("not-an-option"),angular.forEach(a.choices,function(a,b){var d=c.querySelectorAll('option:not([value="?"])')[b];angular.element(d).removeClass("not-an-option"),a.notAnOption?(angular.element(d).addClass("not-an-option"),angular.element(c).addClass("not-an-option")):angular.element(d).addClass("an-option")})})},d.unregOnChoicesChange=a.field.stateProvince.onChoicesChanged(d.loadChoices),a.onChange=function(){a.choices=_.reject(a.choices,function(a){return a.notAnOption===!0}),a.field.stateProvince.value.$=-1===a.data.value?null:a.data.value},a.$watch("field.country.value.$",function(a,b){a!==b&&(236===a||39===a)&&d.updateData()}),a.$watch("field.stateProvince.value.$",function(){d.updateValue()}),a.$on("$destroy",function(){d.unregOnChoicesChange()})}]),a.directive("stdIntlStateEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-intl-state-edit.html"),controller:"stdIntlStateEditController",link:function(a,c){var d,e=c[0].querySelectorAll("select")[0],f=c[0].querySelectorAll("button")[0];angular.element(e).bind("focus",function(){d=a.field.stateProvince.value.$,a.field.stateProvince.context.isGrid&&$timeout(function(){var a=document.createEvent("MouseEvents");a.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(a)})}),angular.element(e).bind("keydown",function(b){27===b.keyCode&&(a.field.stateProvince.value.$=d,e.blur()),46===b.keyCode&&(-1===a.data.value,a.field.stateProvince.value.$=null)}),angular.element(f).bind("keydown",function(a){13===a.keyCode&&a.preventDefault()}),b.setVisibility(c,a.field.stateProvince.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.link.edit",[]);a.directive("stdLinkEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-link-edit.html"),link:function(a,c){a.goTo=function(){},b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.masked.edit",[]);a.controller("stdMaskedEditController",["$scope","$element","$timeout",function(a){var b=this;b.init=function(){a.data={value:a.field.value.$}},a.onChange=function(){a.field.value.$=a.data.value},a.$watch("field.value.$",function(){b.init()})}]),a.directive("stdMaskedEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-masked-edit.html"),controller:"stdMaskedEditController",link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.multiline.edit",[]);a.directive("stdMultilineEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-multiline-edit.html"),link:function(a,c){var d,e=c[0].querySelectorAll("textarea")[0];angular.element(e).bind("focus",function(){d=a.field.value.$,a.field.context.isGrid||e.select()}),angular.element(e).bind("keydown",function(b){27===b.keyCode&&(a.field.value.$=d,e.blur())}),b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.na.phone.edit",[]);a.directive("stdNaPhoneEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-na-phone-edit.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.password.edit",[]);a.controller("stdPasswordModalController",["$scope","$element","$timeout","$document","stdModal",function(a,b,c,d,e){function f(b){13===b.keyCode&&a.formIsValid&&e.resolve(a.data.password),27===b.keyCode&&e.reject()}function g(){a.errorMessage="",a.confirmErrorMessage="",a.data.password||(a.errorMessage="Password is required."),a.data.confirmPassword||(a.confirmErrorMessage="Confirm password is required."),a.data.password!==a.data.confirmPassword&&(a.errorMessage+=a.errorMessage?" | Password and confirm password must match.":"Password and confirm password must match.",a.confirmErrorMessage+=a.confirmErrorMessage?"| Password and confirm password must match.":"Password and confirm password must match."),a.formIsValid=!(a.errorMessage||a.confirmErrorMessage)}c(function(){var a=b[0].querySelectorAll("input")[0];a.focus()}),a.data={password:"",confirmPassword:""},a.onCancelClick=e.reject,a.formIsValid=!1,a.errorMessage="",a.confirmErrorMessage="",a.mouseOverPassword=!1,a.mouseOverConfirmPassword=!1,a.cancel=function(){c(function(){e.reject()})},a.onOkKeyDown=function(b){13===b.keyCode&&a.onOkClick()},a.onCancelKeyDown=function(a){13===a.keyCode&&e.reject()},a.onPasswordChange=function(){g()},a.onConfirmPasswordChange=function(){g()},a.onPasswordMouseEnter=function(){a.mouseOverPassword=!0},a.onPasswordMouseLeave=function(){a.mouseOverPassword=!1},a.onConfirmPasswordMouseEnter=function(){a.mouseOverConfirmPassword=!0},a.onConfirmPasswordMouseLeave=function(){a.mouseOverConfirmPassword=!1},a.onClearClick=function(){e.resolve(null)},a.onOkClick=function(){e.resolve(a.data.password)},a.$on("$destroy",function(){angular.element(d[0]).off("keydown",f)}),angular.element(d[0]).on("keydown",f)}]),a.controller("stdPasswordEditController",["$scope","$element","$timeout","stdModal",function(a,b,c,d){var e=this;e.cleanUp=function(){a.open=!1,a.subview=null,c(function(){b[0].querySelectorAll("button")[0].focus()})},e.openModal=function(){a.subview="password";var b=d.open("password",{message:""});b.then(function(b){a.field.value.$=b,e.cleanUp()},function(){e.cleanUp()})},e.init=function(){a.setOrChange=a.field.value.$?"Edit":"Set"},a.onPasswordButtonClick=function(){e.openModal()},a.onPasswordButtonKeyDown=function(a){13===a.keyCode&&e.openModal()},a.mouseOverPasswordButton=!1,a.onMouseEnterPasswordButton=function(){a.mouseOverPasswordButton=!0},a.onMouseLeavePasswordButton=function(){a.mouseOverPasswordButton=!1},a.$watch("field.value.$",function(){e.init()})}]),a.directive("stdPasswordEdit",["$templateCache","$timeout","stdDisplay",function(a,b,c){return{restrict:"E",scope:{field:"=",label:"@"},controller:"stdPasswordEditController",require:["^stdPasswordEdit"],template:a.get("src/templates/edit/std-password-edit.html"),link:function(a,b){c.setVisibility(b,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.percent.edit",[]);a.directive("stdPercentEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-percent-edit.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.record.picker.edit",[]);a.directive("stdPickerView",["$compile","$http",function(a){return{restrict:"A",replace:!1,terminal:!0,priority:1e3,link:function(b,c){var d=a("<div "+b.field.property.pickerName+'-picker field="field" view="view"></div>')(b);c.append(d)}}}]),a.controller("stdRecordPickerModalController",["$scope","$element","$timeout","$document","stdModal",function(a,b,c,d,e){var f=function(a){27===a.keyCode&&c(function(){e.reject()})};a.modal={height:400,width:700},a.selectedId=0,a.childSearchIsFocused=!0,a.clear=function(){c(function(){e.resolve(null)})},a.onClearKeydown=function(a){13===a.keyCode&&c(function(){e.resolve(null)})},a.cancel=function(a){return 13===a.keyCode?(a.preventDefault(),!1):void c(function(){e.reject()})},a.submit=function(b){b&&(a.selectedId=b),c(function(){e.resolve(a.selectedId)})},a.$on("$destroy",function(){d[0].removeEventListener("keydown",f)}),d[0].addEventListener("keydown",f,!0)}]),a.controller("stdRecordPickerEditController",["$scope","$element","$timeout","stdModal",function(a,b,c,d){var e=this;e.init=function(){a.data={displayValue:"Loading..."},a.data.show=!1,a.field.value.$?a.field.queryByRef(a.field.value.$).then(function(b){a.data.displayValue=b.label,a.data.show=!0}):a.data.displayValue=""},e.cleanUp=function(){a.open=!1,a.subview=null,c(function(){b[0].querySelectorAll("button")[0].focus()})},e.showRecordPickerModal=function(){a.open=!0,c(function(){a.subview="recordPicker";var c=d.open();c.then(function(c){a.field.value.$=c,a.field.context.isGrid?(b.remove(),a.$destroy()):e.cleanUp()},function(){a.field.context.isGrid?b.remove():e.cleanUp()})})},a.field.context.isGrid&&e.showRecordPickerModal(),a.onClick=function(){a.open||e.showRecordPickerModal()},a.onKeydown=function(b){a.open||13!==b.keyCode||e.showRecordPickerModal(),b.ctrlKey&&71===b.keyCode&&(b.preventDefault(),a.goTo())},a.showArrow=!1,a.onInputMousedown=function(){a.showArrow||(a.showArrow=!0,c(function(){a.showArrow=!1},5e3))};var f="function"==typeof a.field.goTo,g="function"==typeof a.field.hasRole,h=!g||a.field.hasRole();a.goTo=function(){f&&g&&h&&a.field.goTo()},a.showLink=!1;var i="undefined"==typeof a.field.context.isGrid;f&&i&&h&&(a.showLink=!0),a.$watch("field.value.$",function(){e.init()})}]),a.directive("stdRecordPickerEdit",["$templateCache","$timeout","stdDisplay",function(a,b,c){return{restrict:"E",scope:{field:"=",label:"@"},controller:"stdRecordPickerEditController",template:a.get("src/templates/edit/std-record-picker-edit.html"),link:function(a,d){b(function(){var c=d[0].querySelectorAll("a")[0],e=d[0].querySelectorAll(".ttl-record-picker-display-value")[0];angular.element(c).bind("keydown",function(c){c.ctrlKey&&71===c.keyCode&&(c.preventDefault(),a.goTo(),b(function(){select.focus()}))}),angular.element(e).bind("keydown",function(c){c.ctrlKey&&71===c.keyCode&&(c.preventDefault(),a.goTo(),b(function(){select.focus()}))}),angular.element(c).bind("mousedown",function(){c.focus()})}),c.setVisibility(d,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.text.edit",[]);a.directive("stdTextEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-text-edit.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.textbox.edit",[]);a.directive("stdTextboxEdit",["$templateCache","$timeout","stdDisplay",function(a,b,c){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-textbox-edit.html"),link:function(a,b){var d,e=b[0].querySelectorAll("input")[0],f=a.field.type.property.maxLength?a.field.type.property.maxLength:0;angular.element(e).bind("focus",function(){d=a.field.value.$,a.field.context.isGrid||e.select()}),angular.element(e).bind("keydown",function(b){27===b.keyCode&&(a.field.value.$=d,e.blur())}),angular.element(e).bind("paste",function(b){b.preventDefault();var c,d=e.selectionStart,g=e.selectionEnd,h=a.field.value.$?a.field.value.$:"";c=b.originalEvent.clipboardData?(h.substring(0,d)+b.originalEvent.clipboardData.getData("text").split("\n").join("")+h.substring(g)).substring(0,f):(h.substring(0,d)+window.clipboardData.getData("text").split("\n").join("")+h.substring(g)).substring(0,f),a.field.value.$=c
}),c.setVisibility(b,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.time.edit",[]);a.controller("stdTimeEditController",["$scope","$element","$timeout",function(){}]),a.directive("stdTimeEdit",["$templateCache","$timeout","stdDisplay",function(a,b,c){return{restrict:"E",scope:{field:"=",label:"@"},controller:"stdTimeEditController",template:a.get("src/templates/edit/std-time-edit.html"),link:function(a,b){c.setVisibility(b,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.usa.address.edit",[]);a.directive("stdUsaAddressEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-usa-address-edit.html"),link:{pre:function(a){a.field.children.zip.property.entryFilter=a.field.property.zipEntryFilter,a.field.children.zip.property.watermark=a.field.property.zipWatermark},post:function(a,c){var d=angular.element(c[0].querySelectorAll("label")[4]),e=angular.element(c[0].querySelectorAll("label")[5]);d.addClass("ttl-no-label-width"),e.addClass("ttl-no-label-width"),b.setVisibility(c,a.field.type.canDisplay)}}}}])}(),function(){"use strict";var a=angular.module("std.usa.address.zip.9.edit",[]);a.directive("stdUsaAddressZip9Edit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-usa-address-zip-9-edit.html"),link:{pre:function(a){a.field.children.zip.property.entryFilter=a.field.property.zipEntryFilter,a.field.children.zip.property.watermark=a.field.property.zipWatermark},post:function(a,c){var d=angular.element(c[0].querySelectorAll("label")[4]),e=angular.element(c[0].querySelectorAll("label")[5]);d.addClass("ttl-no-label-width"),e.addClass("ttl-no-label-width"),b.setVisibility(c,a.field.type.canDisplay)}}}}])}(),function(){"use strict";var a=angular.module("std.usa.dollar.edit",[]);a.directive("stdUsaDollarEdit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-usa-dollar-edit.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.usa.zip.5.edit",[]);a.directive("stdUsaZip5Edit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-usa-zip-5-edit.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.usa.zip.9.edit",[]);a.directive("stdUsaZip9Edit",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/edit/std-usa-zip-9-edit.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.checkbox.list",[]);a.controller("stdCheckboxListController",["$scope",function(){}]),a.directive("stdCheckboxList",["$templateCache",function(a){return{restrict:"E",scope:{field:"="},template:a.get("src/templates/list/std-checkbox-list.html"),controller:"stdCheckboxListController",link:function(a){a.data={disabled:!0}}}}])}(),function(){"use strict";var a=angular.module("std.text.list",[]);a.directive("stdTextList",["$templateCache","stdDisplay",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},template:a.get("src/templates/list/std-text-list.html"),link:function(a,c){b.setVisibility(c,a.field.type.canDisplay)}}}])}(),function(){"use strict";var a=angular.module("std.boolean.dropdown.query",[]);a.controller("stdBooleanDropdownQueryController",["$scope","stdOperatorLookup","stdUtil",function(a,b,c){var d=a.field.property.value,e=a.field.property.default,f="undefined"!=typeof d,g="undefined"!=typeof e,h=b[a.field.property.operator].operator,i=function(){return function(){f||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),j=function(){return function(){f||(a.field.value.$=g?c.tryParseInt(e,e):void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;"undefined"!=typeof b?c.set("",h,b):c.clear()},a.valueIsUndefined=function(){return"undefined"==typeof d},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$||""===a.field.value.$},a.onOperatorClick=function(){f||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.choices=[{value:{$:void 0},label:""},{value:{$:!0},label:"True"},{value:{$:!1},label:"False"},{value:{$:"null"},label:"Null"}],a.data={label:void 0},f?(a.data.label=a.choices.filter(function(a){return a.value.$===d})[0].label,a.field.value.$=c.tryParseInt(d,d)):a.field.value.$=g?c.tryParseInt(e,e):void 0,a.updateQueryPredicate(),a.init=function(){a.searchGroupCtrl.registerClear(i),a.searchGroupCtrl.registerDefault(j)}}]),a.directive("stdBooleanDropdownQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-boolean-dropdown-query.html"),controller:"stdBooleanDropdownQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.checkbox.query",[]);a.controller("stdCheckboxQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.value,d=a.field.property.default,e="undefined"!=typeof c,f="undefined"!=typeof d,g=b[a.field.property.operator].operator;a.field.value.$=e?c:f?d:void 0;var h=function(){return function(){e||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),i=function(){return function(){e||(a.field.value.$=f?d:void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;"undefined"!=typeof b?c.set("",g,b):c.clear()},a.data={value:void 0},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.valueIsUndefined=function(){return"undefined"==typeof c},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$},a.onOperatorClick=function(){e||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.updateQueryPredicate(),a.init=function(){a.searchGroupCtrl.registerClear(h),a.searchGroupCtrl.registerDefault(i)}}]),a.directive("stdCheckboxQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-checkbox-query.html"),controller:"stdCheckboxQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.date.query",[]);a.controller("stdDateQueryController",["$scope","stdOperatorLookup","stdUtil",function(a,b,c){var d=a.field.property.value,e=a.field.property.default,f="undefined"!=typeof d,g="undefined"!=typeof e,h=b[a.field.property.operator].operator;a.field.value.$=f?d:g?e:void 0;var i=function(){return function(){f||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),j=function(){return function(){f||(a.field.value.$=g?e:void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,d=a.field.queryPredicate;if(b&&c.isDate(b)){var e=[],f=new Date(b),g=new Date(b);"eq"===h&&(f.setHours(0,0,0,0),g.setHours(23,59,59,999),e.push(d.create("","gt",f)),e.push(d.create("","lt",g)),d.set(e[0].and(e[1]))),"lt"===h&&(f.setHours(0,0,0,0),d.set("","lt",f)),"gt"===h&&(f.setHours(23,59,59,999),d.set("","gt",f)),"le"===h&&(f.setHours(23,59,59,999),d.set("","le",f)),"ge"===h&&(f.setHours(0,0,0,0),d.set("","ge",f))}else d.clear()},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.valueIsUndefined=function(){return"undefined"==typeof d},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field.value.$},a.onOperatorClick=function(){f||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.updateQueryPredicate(),a.init=function(){a.searchGroupCtrl.registerClear(i),a.searchGroupCtrl.registerDefault(j)}}]),a.directive("stdDateQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-date-query.html"),controller:"stdDateQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.date.range.query",[]);a.controller("stdDateRangeQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.startValue,d=a.field.property.endValue,e=a.field.property.startDefault,f=a.field.property.endDefault,g="undefined"!=typeof c,h="undefined"!=typeof e,i="undefined"!=typeof d,j="undefined"!=typeof f,k="greater-than-or-equal",l="less-than-or-equal",m=b[k].operator,n=b[l].operator,o=function(){return function(){g||(a.data.startDate=void 0),i||(a.data.endDate=void 0),a.updateQueryPredicate()}}(),p=function(){return function(){g||(a.data.startDate=h?e:void 0),i||(a.data.endDate=j?f:void 0),a.updateQueryPredicate()}}();a.updateQueryPredicate=function(){var b=a.field.queryPredicate,c=[];if(a.data.startDate){var d=new Date(a.data.startDate.toUTCString());d.setHours(0,0,0,0),c.push(b.create("",m,d))}if(a.data.endDate){var e=new Date(a.data.endDate.toUTCString());e.setHours(23,59,59,999),c.push(b.create("",n,e))}if(c.length){var f=c[0];c.length>1&&(f=f.and(c[1])),b.set(f)}else b.clear()},a.data={startDate:void 0,endDate:void 0},a.startOperatorImage=b[k].operatorImage,a.startOperatorImageMessage=b[k].operatorImageMessage,a.endOperatorImage=b[l].operatorImage,a.endOperatorImageMessage=b[l].operatorImageMessage,a.onStartOperatorClick=function(){g||a.field.context.isEditing||(a.data.startDate=void 0,a.updateQueryPredicate())},a.onEndOperatorClick=function(){i||a.field.context.isEditing||(a.data.endDate=void 0,a.updateQueryPredicate())},a.init=function(){g&&(a.data.startDate=c),h&&(a.data.startDate=e),i&&(a.data.endDate=d),j&&(a.data.endDate=f),a.searchGroupCtrl.registerClear(o),a.searchGroupCtrl.registerDefault(p)}}]),a.directive("stdDateRangeQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-date-range-query.html"),controller:"stdDateRangeQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.date.span.query",[]);a.controller("stdDateSpanQueryController",["$scope","stdOperatorLookup",function(){}]),a.directive("stdDateSpanQuery",["$templateCache","stdUtil",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-date-span-query.html"),controller:"stdDateSpanQueryController",link:{pre:function(a){a.field.children.start.property.operator="greater-than-or-equal",a.field.children.end.property.operator="less-than-or-equal",a.field.children.start.property.default=a.field.property.startDefault,a.field.children.end.property.default=a.field.property.endDefault},post:function(a,c,d,e){var f=angular.element(c[0].querySelectorAll(".tvl-container-dat-label")[1]),g=angular.element(c[0].querySelectorAll(".tvl-container-dat-label")[2]);f.remove(),g.remove();var h=function(){return function(){var c=[],d=a.field.queryPredicate,e=a.field.children.start.value.$,f=a.field.children.end.value.$;if(e&&f&&b.isDate(e)&&b.isDate(f)){var g=new Date(e.toUTCString()),h=new Date(f.toUTCString());if(g.setHours(0,0,0,0),c.push(d.create("Start","ge",g)),h.setHours(23,59,59,999),c.push(d.create("Start","le",h)),c.length){for(var i=void 0,j=0;j<c.length;j++)i=0===j?c[j]:i.and(c[j]);d.set(i)}else d.clear()}else if(e&&b.isDate(e)){var g=new Date(e.toUTCString());d.set("Start","ge",g)}else if(f&&b.isDate(f)){var h=new Date(f.toUTCString());d.set("Start","le",h)}else d.clear()}}();e.registerPredicate(h)}}}}])}(),function(){"use strict";var a=angular.module("std.datetime.query",[]);a.controller("stdDatetimeQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.value,d=a.field.property.default,e="undefined"!=typeof c,f="undefined"!=typeof d,g=b[a.field.property.operator].operator;a.field.value.$=e?c:f?d:void 0;var h=function(){return function(){e||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),i=function(){return function(){e||(a.field.value.$=f?d:void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;if(b&&util.isDate(b)){var d=[],e=new Date(b),f=new Date(b);"eq"===g&&(e.setHours(0,0,0,0),f.setHours(23,59,59,999),d.push(c.create("","gt",e)),d.push(c.create("","lt",f)),c.set(d[0].and(d[1]))),"lt"===g&&(e.setHours(0,0,0,0),c.set("","lt",e)),"gt"===g&&(e.setHours(23,59,59,999),c.set("","gt",e)),"le"===g&&(e.setHours(23,59,59,999),c.set("","le",e)),"ge"===g&&(e.setHours(0,0,0,0),c.set("","ge",e))}else c.clear()},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.valueIsUndefined=function(){return"undefined"==typeof c},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field.value.$},a.onOperatorClick=function(){e||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.updateQueryPredicate(),a.init=function(){a.searchGroupCtrl.registerClear(h),a.searchGroupCtrl.registerDefault(i)}}]),a.directive("stdDatetimeQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-datetime-query.html"),controller:"stdDatetimeQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.datetime.range.query",[]);a.controller("stdDatetimeRangeQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.startValue,d=a.field.property.endValue,e=a.field.property.startDefault,f=a.field.property.endDefault,g="undefined"!=typeof c,h="undefined"!=typeof e,i="undefined"!=typeof d,j="undefined"!=typeof f,k="greater-than-or-equal",l="less-than-or-equal",m=b[k].operator,n=b[l].operator,o=function(){return function(){g||(a.data.startDate=void 0),i||(a.data.endDate=void 0),a.updateQueryPredicate()}}(),p=function(){return function(){g||(a.data.startDate=h?e:void 0),i||(a.data.endDate=j?f:void 0),a.updateQueryPredicate()}}();a.updateQueryPredicate=function(){var b=a.field.queryPredicate,c=[];if(a.data.startDate&&c.push(b.create("",m,a.data.startDate)),a.data.endDate&&c.push(b.create("",n,a.data.endDate)),c.length){var d=c[0];c.length>1&&(d=d.and(c[1])),b.set(d)}else b.clear()},a.data={startDate:void 0,endDate:void 0},a.startOperatorImage=b[k].operatorImage,a.startOperatorImageMessage=b[k].operatorImageMessage,a.endOperatorImage=b[l].operatorImage,a.endOperatorImageMessage=b[l].operatorImageMessage,a.init=function(){g&&(a.data.startDate=c),h&&(a.data.startDate=e),i&&(a.data.endDate=d),j&&(a.data.endDate=f),a.searchGroupCtrl.registerClear(o),a.searchGroupCtrl.registerDefault(p)}}]),a.directive("stdDatetimeRangeQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-datetime-range-query.html"),controller:"stdDatetimeRangeQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.decimal.query",[]);a.controller("stdDecimalQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.value,d=a.field.property.default,e="undefined"!=typeof c,f="undefined"!=typeof d,g=b[a.field.property.operator].operator;a.field.value.$=e?c:f?d:void 0;var h=function(){return function(){e||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),i=function(){return function(){e||(a.field.value.$=f?d:void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;b?c.set("",g,b):c.clear()},a.valueIsUndefined=function(){return"undefined"==typeof c},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$||""===a.field.value.$||null===a.field.value.$},a.onOperatorClick=function(){e||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.updateQueryPredicate(),a.init=function(){a.searchGroupCtrl.registerClear(h),a.searchGroupCtrl.registerDefault(i)}}]),a.directive("stdDecimalQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-decimal-query.html"),controller:"stdDecimalQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.dropdown.query",[]);a.controller("stdDropdownQueryController",["$scope","stdOperatorLookup","stdUtil",function(a,b,c){var d=a.field.property.value,e=a.field.property.default,f="undefined"!=typeof d,g="undefined"!=typeof e,h=b[a.field.property.operator].operator,i=void 0,j=function(){return function(){f||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),k=function(){return function(){f||(a.field.value.$=g?c.tryParseInt(e,e):void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;"undefined"!=typeof b?("string"==typeof b&&(b="'"+b+"'"),c.set("",h,b)):c.clear()},a.data={choices:[],label:void 0};var l=function(b){null!=b&&(a.data.choices=angular.copy(b),a.data.choices.unshift({label:"",value:{$:void 0}}),a.field.type.isNullable&&a.data.choices.push({label:"Null",value:{$:"null"}}),f?(a.data.label=a.data.choices.filter(function(a){return a.value.$===d})[0].label,a.field.value.$=c.tryParseInt(d,d)):a.field.value.$=g?c.tryParseInt(e,e):void 0,a.updateQueryPredicate())};a.valueIsUndefined=function(){return"undefined"==typeof d},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$||""===a.field.value.$},a.onOperatorClick=function(){f||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,null===d?(a.data.label="Null",a.field.value.$=null,a.updateQueryPredicate()):i=a.field.onChoicesChanged(l),a.$on("$destroy",function(){i()}),a.init=function(){a.searchGroupCtrl.registerClear(j),a.searchGroupCtrl.registerDefault(k)}}]),a.directive("stdDropdownQuery",["$templateCache","$timeout",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-dropdown-query.html"),controller:"stdDropdownQueryController",link:function(a,c,d,e){b(function(){var b=c[0].querySelectorAll("select")[0];angular.element(b).bind("keydown",function(b){46===b.keyCode&&(a.field.value.$=a.field.type.isNullable?"null":void 0),a.updateQueryPredicate()})}),a.searchGroupCtrl=e,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.float.query",[]);a.controller("stdFloatQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.value,d=a.field.property.default,e="undefined"!=typeof c,f="undefined"!=typeof d,g=b[a.field.property.operator].operator;a.field.value.$=e?c:f?d:void 0;var h=function(){return function(){e||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),i=function(){return function(){e||(a.field.value.$=f?d:void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;b?c.set("",g,b):c.clear()},a.valueIsUndefined=function(){return"undefined"==typeof c},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$||""===a.field.value.$||null===a.field.value.$},a.onOperatorClick=function(){e||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.updateQueryPredicate(),a.init=function(){a.searchGroupCtrl.registerClear(h),a.searchGroupCtrl.registerDefault(i)}}]),a.directive("stdFloatQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-float-query.html"),controller:"stdFloatQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.integer.query",[]);a.controller("stdIntegerQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.value,d=a.field.property.default,e="undefined"!=typeof c,f="undefined"!=typeof d,g=b[a.field.property.operator].operator;a.field.value.$=e?c:f?d:void 0;var h=function(){return function(){e||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),i=function(){return function(){e||(a.field.value.$=f?d:void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;b?c.set("",g,b):c.clear()},a.valueIsUndefined=function(){return"undefined"==typeof c},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$||""===a.field.value.$},a.onOperatorClick=function(){e||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.updateQueryPredicate(),a.init=function(){a.searchGroupCtrl.registerClear(h),a.searchGroupCtrl.registerDefault(i)}}]),a.directive("stdIntegerQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-integer-query.html"),controller:"stdIntegerQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.integer.range.query",[]);a.controller("stdIntegerRangeQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.startValue,d=a.field.property.endValue,e=a.field.property.startDefault,f=a.field.property.endDefault,g="greater-than-or-equal",h="less-than-or-equal",i=function(){return function(){a.data.startValue=void 0,a.data.endValue=void 0}}(),j=function(){return function(){a.data.startValue=e,a.data.endValue=f}}(),k=b[g].operator,l=b[h].operator;a.updateQueryPredicate=function(){var b=a.field.queryPredicate,c=[];if(a.data.startValue&&c.push(b.create("",k,a.data.startValue)),a.data.endValue&&c.push(b.create("",l,a.data.endValue)),c.length){var d=c[0];c.length>1&&(d=d.and(c[1])),b.set(d)}else b.clear()},a.onStartOperatorClick=function(){a.data.startValue=void 0,a.updateQueryPredicate()},a.onEndOperatorClick=function(){a.data.endValue=void 0,a.updateQueryPredicate()},a.data={startValue:void 0,endValue:void 0},a.startOperatorImage=b[g].operatorImage,a.startOperatorImageMessage=b[g].operatorImageMessage,a.endOperatorImage=b[h].operatorImage,a.endOperatorImageMessage=b[h].operatorImageMessage,a.init=function(){c&&(a.startValue=c),d&&(a.endValue=d),e&&(a.startValue=e),f&&(a.endValue=f),a.searchGroupCtrl.registerClear(i),a.searchGroupCtrl.registerDefault(j)}}]),a.directive("stdIntegerRangeQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-integer-range-query.html"),controller:"stdIntegerRangeQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.intl.address.basic.query",[]);a.controller("stdIntlAddressBasicQueryController",["$scope","stdOperatorLookup",function(){}]),a.directive("stdIntlAddressBasicQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-intl-address-basic-query.html"),controller:"stdIntlAddressBasicQueryController",link:{pre:function(a){a.field.children.address1.property.operator="contains",a.field.children.address2.property.operator="contains",a.field.children.country.property.operator="contains",a.field.children.city.property.operator="contains",a.field.children.stateProvince.property.operator="contains",a.field.children.postalCode.property.operator="contains"},post:function(a,b,c,d){var e=angular.element(b[0].querySelectorAll("label")[4]),f=angular.element(b[0].querySelectorAll("label")[5]);e.addClass("ttl-no-label-width"),f.addClass("ttl-no-label-width");var g=function(){return function(){var b=[],c=a.field.queryPredicate,d=a.field.children.address1.value.$;"undefined"!=typeof d&&b.push(c.create("Address1","contains",d));var e=a.field.children.address2.value.$;"undefined"!=typeof e&&b.push(c.create("Address2","contains",e));var f=a.field.children.country.value.$;"undefined"!=typeof f&&b.push(c.create("Country","contains",f));var g=a.field.children.city.value.$;"undefined"!=typeof g&&b.push(c.create("City","contains",g));var h=a.field.children.stateProvince.value.$;"undefined"!=typeof h&&b.push(c.create("StateProvince","contains",h));var i=a.field.children.postalCode.value.$;if("undefined"!=typeof i&&b.push(c.create("PostalCode","contains",i)),b.length){for(var j=void 0,k=0;k<b.length;k++)j=0===k?b[k]:j.and(b[k]);c.set(j)}else c.clear()}}();d.registerPredicate(g)}}}}])}(),function(){"use strict";var a=angular.module("std.intl.address.query",[]);a.controller("stdIntlAddressQueryController",["$scope","stdOperatorLookup",function(){}]),a.directive("stdIntlAddressQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-intl-address-query.html"),controller:"stdIntlAddressQueryController",link:{pre:function(a){a.field.children.address1.property.operator="contains",a.field.children.address2.property.operator="contains",a.field.children.country.property.operator="contains",a.field.children.city.property.operator="contains",a.field.children.stateProvince.property.operator="contains",a.field.children.postalCode.property.operator="contains"},post:function(a,b,c,d){var e=angular.element(b[0].querySelectorAll("label")[5]),f=angular.element(b[0].querySelectorAll("label")[6]);e.addClass("ttl-no-label-width"),f.addClass("ttl-no-label-width");var g=function(){return function(){var b=[],c=a.field.queryPredicate,d=a.field.children.address1.value.$;"undefined"!=typeof d&&b.push(c.create("Address1","contains",d));var e=a.field.children.address2.value.$;"undefined"!=typeof e&&b.push(c.create("Address2","contains",e));var f=a.field.children.country.value.$;"undefined"!=typeof f&&b.push(c.create("CountryStdIntlCountryRef","eq",f));var g=a.field.children.city.value.$;"undefined"!=typeof g&&b.push(c.create("City","contains",g));var h=a.field.children.stateProvince.value.$;"undefined"!=typeof h&&b.push(c.create("StateProvinceStdIntlStateRef","eq",h));var i=a.field.children.postalCode.value.$;if("undefined"!=typeof i&&b.push(c.create("PostalCode","contains",i)),b.length){for(var j=void 0,k=0;k<b.length;k++)j=0===k?b[k]:j.and(b[k]);c.set(j)}else c.clear()}}();d.registerPredicate(g)}}}}])}(),function(){"use strict";var a=angular.module("std.null.not.null.query",[]);a.controller("stdNullNotNullController",["$scope","stdOperatorLookup","stdUtil",function(a,b,c){var d=a.field.property.value,e=a.field.property.default,f="undefined"!=typeof d,g="undefined"!=typeof e,h=b[a.field.property.operator].operator,i=function(){return function(){f||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),j=function(){return function(){f||(a.field.value.$=g?c.tryParseInt(e,e):void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;"undefined"!=typeof b?(h=b?"ne":"eq",c.set("",h,null)):c.clear()},a.data={choices:[],label:void 0};var k=function(){a.data.choices.push({label:"Is Set",value:{$:1}}),a.data.choices.push({label:"Is Not Set",value:{$:0}}),a.data.choices.unshift({label:"",value:{$:void 0}}),f?(a.data.label=a.data.choices.filter(function(a){return a.value.$===d})[0].label,a.field.value.$=c.tryParseInt(d,d)):a.field.value.$=g?c.tryParseInt(e,e):void 0,a.updateQueryPredicate()};a.valueIsUndefined=function(){return"undefined"==typeof d},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$||""===a.field.value.$},a.onOperatorClick=function(){f||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.operatorImage=b.equal.operatorImage,a.operatorImageMessage=b.equal.operatorImageMessage,null===d&&(a.data.label="Null",a.field.value.$=null,a.updateQueryPredicate()),a.init=function(){a.searchGroupCtrl.registerClear(i),a.searchGroupCtrl.registerDefault(j),k()}}]),a.directive("stdNullNotNullQuery",["$templateCache","$timeout",function(a,b){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-null-not-null-query.html"),controller:"stdNullNotNullController",link:function(a,c,d,e){b(function(){var b=c[0].querySelectorAll("select")[0];angular.element(b).bind("keydown",function(b){46===b.keyCode&&(a.field.value.$=void 0),a.updateQueryPredicate()})}),a.searchGroupCtrl=e,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.or.list.checkbox.query",[]);a.controller("stdOrListCheckboxQueryController",["$scope","stdOperatorLookup","stdUtil",function(a,b){var c=a.field.property.value?a.field.property.value:[],d=a.field.property.default?a.field.property.default:[],e=a.field.property.labelDefault?a.field.property.labelDefault:[],f=c.length>0,g=d.length>0,h=e.length>0,i=b[a.field.property.operator].operator,j=void 0,k=function(){return function(){f||(angular.forEach(a.data.choices,function(a){a.checked=!1}),a.updateQueryPredicate())}}(),l=function(){return function(){f||(g?angular.forEach(a.data.choices,function(a){a.checked=-1!==d.indexOf(a.value.$)}):angular.forEach(a.data.choices,function(a){a.checked=!1}),a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.queryPredicate,c=[];if(angular.forEach(a.data.choices,function(a){a.checked&&c.push(b.create("",i,a.value.$))}),c.length){for(var d=c[0],e=1;e<c.length;e++)d=d.or(c[e]);b.set(d)}else b.clear()};var m=function(b){null!=b&&(angular.forEach(b,function(b){f?-1!==c.indexOf(b.value.$)&&(a.data.labels.push(b.label),b.checked=!0):b.checked=g?-1!==d.indexOf(b.value.$.toString()):h?-1!==e.indexOf(b.label):!1,a.data.choices.push(angular.copy(b)),a.updateQueryPredicate()}),a.field.type.isNullable&&a.data.choices.push({checked:!1,label:"Null",value:{$:null}}),a.updateQueryPredicate())};a.data={choices:[],labels:[]},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.valueIsUndefined=function(){return!f},a.onOperatorClick=function(){f||a.field.context.isEditing||(a.checked?angular.forEach(a.data.choices,function(a){a.checked=!1}):angular.forEach(a.data.choices,function(a){a.checked=!0}),a.updateQueryPredicate())},a.$watch("data.choices",function(){a.checked=a.data.choices.filter(function(a){return a.checked===!0}).length>0},!0),j=a.field.onChoicesChanged(m),a.$on("$destroy",function(){j()}),a.init=function(){a.searchGroupCtrl.registerClear(k),a.searchGroupCtrl.registerDefault(l)}}]),a.directive("stdOrListCheckboxQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:["^truSearchGroup","^truLabelContainer"],template:a.get("src/templates/query/std-or-list-checkbox-query.html"),controller:"stdOrListCheckboxQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d[0],a.labelContainerCtrl=d[1];
var e=b[0].querySelectorAll("label");if(d[1])for(var f=0;f<e.length;f++)d[1].addLabel(e[f]);a.init()}}}])}(),function(){"use strict";var a=angular.module("std.percent.query",[]);a.controller("stdPercentQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.value,d=a.field.property.default,e="undefined"!=typeof c,f="undefined"!=typeof d,g=b[a.field.property.operator].operator;a.field.value.$=e?c:f?d:void 0;var h=function(){return function(){e||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),i=function(){return function(){e||(a.field.value.$=f?d:void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;b?c.set("",g,b):c.clear()},a.valueIsUndefined=function(){return"undefined"==typeof c},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$||""===a.field.value.$||null===a.field.value.$},a.onOperatorClick=function(){e||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.updateQueryPredicate(),a.init=function(){a.searchGroupCtrl.registerClear(h),a.searchGroupCtrl.registerDefault(i)}}]),a.directive("stdPercentQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-percent-query.html"),controller:"stdPercentQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.radio.list.button.query",[]);a.controller("stdRadioListButtonQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.value?a.field.property.value:[],d=a.field.property.default?a.field.property.default:[],e=c.length>0,f=d.length>0,g=b[a.field.property.operator].operator,h=void 0,i=function(){return function(){e||(angular.forEach(a.data.choices,function(a){a.checked=!1}),a.updateQueryPredicate())}}(),j=function(){return function(){e||(f?angular.forEach(a.data.choices,function(a){a.checked=-1!==d.indexOf(a.value.$)}):angular.forEach(a.data.choices,function(a){a.checked=!1}),a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.queryPredicate,c=[];if(angular.forEach(a.data.choices,function(a){a.checked&&c.push(b.create("",g,a.value.$))}),c.length){for(var d=c[0],e=1;e<c.length;e++)d=d.or(c[e]);b.set(d)}else b.clear()},a.data={choices:[],labels:[]},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.valueIsUndefined=function(){return!e},a.onOperatorClick=function(){e||a.field.context.isEditing||(a.checked&&angular.forEach(a.data.choices,function(a){a.checked=!1}),a.updateQueryPredicate())},a.$watch("data.choices",function(){a.checked=a.data.choices.filter(function(a){return a.checked===!0}).length>0},!0);var k=function(b){angular.forEach(b,function(b){e?-1!==c.indexOf(b.value.$)&&(a.data.labels.push(b.label),b.checked=!0):b.checked=f?-1!==d.indexOf(b.value.$):!1,a.data.choices.push(b),a.updateQueryPredicate()}),a.field.type.isNullable&&a.data.choices.push({checked:!1,label:"Null",value:{$:null}}),a.updateQueryPredicate()};h=a.field.onChoicesChanged(k),a.$on("$destroy",function(){h()}),a.init=function(){a.searchGroupCtrl.registerClear(i),a.searchGroupCtrl.registerDefault(j)}}]),a.directive("stdRadioListButtonQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-radio-list-button-query.html"),controller:"stdRadioListButtonQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.record.picker.query",[]);a.directive("stdPickerView",["$compile","$http",function(a){return{restrict:"A",replace:!1,link:function(b,c){var d=a("<div "+b.field.property.pickerName+'-picker field="field" view="view"></div>')(b);c.append(d)}}}]),a.controller("stdRecordPickerModalController",["$scope","$element","$timeout","$document","stdModal",function(a,b,c,d,e){var f=function(a){27===a.keyCode&&c(function(){e.reject()})};a.modal={height:400,width:700},a.selectedId=0,a.childSearchIsFocused=!0,a.clear=function(){c(function(){e.resolve(null)})},a.onClearKeydown=function(a){13===a.keyCode&&c(function(){e.resolve(null)})},a.cancel=function(a){return 13===a.keyCode?(a.preventDefault(),!1):void c(function(){e.reject()})},a.submit=function(b){b&&(a.selectedId=b),c(function(){e.resolve(a.selectedId)})},a.$on("$destroy",function(){d[0].removeEventListener("keydown",f)}),d[0].addEventListener("keydown",f,!0)}]),a.controller("stdRecordPickerQueryController",["$scope","$element","$timeout","stdModal","stdOperatorLookup","stdUtil",function(a,b,c,d,e,f){var g=this,h=a.field.property.value,i=a.field.property.default,j="undefined"!=typeof h,k="undefined"!=typeof i,l=e[a.field.property.operator].operator,m=function(){return function(){j||(a.field.value.$=void 0,a.data.displayValue=void 0,a.updateQueryPredicate())}}(),n=function(){return function(){j||(a.field.value.$=k?f.tryParseInt(i,i):void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;"undefined"!=typeof b?c.set("",l,b):c.clear()},a.valueIsUndefined=function(){return"undefined"==typeof h},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$||""===a.field.value.$},a.onOperatorClick=function(){j||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.operatorImage=e[a.field.property.operator].operatorImage,a.operatorImageMessage=e[a.field.property.operator].operatorImageMessage,a.data={choices:[],label:void 0},null===h?(a.data.label="Null",a.field.value.$=null):j?(a.field.queryByRef(h).then(function(b){a.data.label=b.label}),a.field.value.$=f.tryParseInt(h,h)):a.field.value.$=k?f.tryParseInt(i,i):void 0,a.init=function(){a.searchGroupCtrl.registerClear(m),a.searchGroupCtrl.registerDefault(n)},g.cleanUp=function(){a.open=!1,c(function(){b[0].querySelectorAll("button")[0].focus()})},g.showRecordPickerModal=function(){a.open=!0,c(function(){var c=d.open("recordPicker");c.then(function(c){a.field.queryByRef(c).then(function(b){a.data.displayValue=b.label,a.field.value.$=c,a.updateQueryPredicate()}),a.field.context.isGrid?(b.remove(),a.$destroy()):g.cleanUp()},function(){a.field.context.isGrid?b.remove():g.cleanUp()})})},a.onClick=function(){a.open||g.showRecordPickerModal()},a.onKeydown=function(b){a.open||13!==b.keyCode||g.showRecordPickerModal()},a.showArrow=!1,a.onInputMousedown=function(){a.showArrow||(a.showArrow=!0,c(function(){a.showArrow=!1},5e3))},a.updateQueryPredicate()}]),a.directive("stdRecordPickerQuery",["$templateCache","$timeout","stdDisplay",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",controller:"stdRecordPickerQueryController",template:a.get("src/templates/query/std-record-picker-query.html"),link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.textbox.query",[]);a.controller("stdTextboxQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.value,d=a.field.property.default,e="undefined"!=typeof c,f="undefined"!=typeof d,g=b[a.field.property.operator].operator;a.field.value.$=e?c:f?d:void 0;var h=function(){return function(){e||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),i=function(){return function(){e||(a.field.value.$=f?d:void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;b?c.set("",g,b):c.clear()},a.valueIsUndefined=function(){return"undefined"==typeof c},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$||""===a.field.value.$},a.onOperatorClick=function(){e||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.updateQueryPredicate(),a.init=function(){a.searchGroupCtrl.registerClear(h),a.searchGroupCtrl.registerDefault(i)}}]),a.directive("stdTextboxQuery",["$templateCache","$timeout",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-textbox-query.html"),controller:"stdTextboxQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.usa.address.query",[]);a.controller("stdUsaAddressQueryController",["$scope","stdOperatorLookup",function(){}]),a.directive("stdUsaAddressQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-usa-address-query.html"),controller:"stdUsaAddressQueryController",link:{pre:function(a){a.field.children.address1.property.operator="contains",a.field.children.address2.property.operator="contains",a.field.children.city.property.operator="contains",a.field.children.zip.property.operator="contains",a.field.children.zip.property.entryFilter=a.field.property.zipEntryFilter,a.field.children.zip.property.watermark=a.field.property.zipWatermark},post:function(a,b,c,d){var e=angular.element(b[0].querySelectorAll("label")[4]),f=angular.element(b[0].querySelectorAll("label")[5]);e.addClass("ttl-no-label-width"),f.addClass("ttl-no-label-width");var g=function(){return function(){var b=[],c=a.field.queryPredicate,d=a.field.children.address1.value.$;"undefined"!=typeof d&&b.push(c.create("Address1","contains",d));var e=a.field.children.address2.value.$;"undefined"!=typeof e&&b.push(c.create("Address2","contains",e));var f=a.field.children.city.value.$;"undefined"!=typeof f&&b.push(c.create("City","contains",f));var g=a.field.children.state.value.$;"undefined"!=typeof g&&""!==g&&b.push(c.create("StateStdUSAStateRef","eq",g));var h=a.field.children.zip.value.$;if("undefined"!=typeof h&&b.push(c.create("Zip","contains",h)),b.length){for(var i=void 0,j=0;j<b.length;j++)i=0===j?b[j]:i.and(b[j]);c.set(i)}else c.clear()}}();d.registerPredicate(g)}}}}])}(),function(){"use strict";var a=angular.module("std.usa.dollar.query",[]);a.controller("stdUsaDollarQueryController",["$scope","stdOperatorLookup",function(a,b){var c=a.field.property.value,d=a.field.property.default,e="undefined"!=typeof c,f="undefined"!=typeof d,g=b[a.field.property.operator].operator;a.field.value.$=e?c:f?d:void 0;var h=function(){return function(){e||(a.field.value.$=void 0,a.updateQueryPredicate())}}(),i=function(){return function(){e||(a.field.value.$=f?d:void 0,a.updateQueryPredicate())}}();a.updateQueryPredicate=function(){var b=a.field.value.$,c=a.field.queryPredicate;b?c.set("",g,b):c.clear()},a.valueIsUndefined=function(){return"undefined"==typeof c},a.controlValueIsUndefined=function(){return"undefined"==typeof a.field||"undefined"==typeof a.field.value.$||""===a.field.value.$||null===a.field.value.$},a.onOperatorClick=function(){e||a.field.context.isEditing||(a.field.value.$=void 0,a.updateQueryPredicate())},a.operatorImage=b[a.field.property.operator].operatorImage,a.operatorImageMessage=b[a.field.property.operator].operatorImageMessage,a.init=function(){a.searchGroupCtrl.registerClear(h),a.searchGroupCtrl.registerDefault(i)}}]),a.directive("stdUsaDollarQuery",["$templateCache",function(a){return{restrict:"E",scope:{field:"=",label:"@"},require:"^truSearchGroup",template:a.get("src/templates/query/std-usa-dollar-query.html"),controller:"stdUsaDollarQueryController",link:function(a,b,c,d){a.searchGroupCtrl=d,a.init()}}}])}(),function(){"use strict";var a=angular.module("std.calendar",[]);a.directive("stdCalendar",["$compile","$document","$timeout",function(a,b,c){return{scope:{display:"="},require:"ngModel",link:function(d,e,f,g){function h(a){return!isNaN(parseFloat(a))&&isFinite(a)}function i(a,b){var c=b-a.toString().length+1;return Array(+(c>0&&c)).join("0")+a}var j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],k=["January","February","March","April","May","June","July","August","September","October","November","December"],l=[31,28,31,30,31,30,31,31,30,31,30,31],m=null,n=null,o=null,p=!1,q=null,r=function(){var a=new Date;return a.getFullYear()},s=function(){var a=new Date;return a.getMonth()},t=function(a){var b=a.replace(/^\D+/g,""),c=b.substring(0,2)-1,d=b.substring(6,10),e={};return e.month=c,e.year=d,e},u=function(){var a=e[0].value.split(/[\s]+/),b=a[0]?a[0]:"";a=b.split(/[\/]+/);var c=a.join(""),d=h(c);d?(b=t(b),n=b.month,m=b.year):(n=s(),m=r());var f=new Date;return f.getMonth()},v=function(){var a=new Date(m,n,1),b=a.getDay(),c=l[n],d=k[n],e='<table class="ttl-calendar-table" data-ng-mouseenter="onMouseEnter()" data-ng-mouseleave="onMouseLeave()">';e+='<tr><th colspan="7"><button class="tvl-btn ttl-header-previous-button" data-ng-click="previous()">&#60;</button><div class="ttl-header-text">',e+=d+"&nbsp;"+m,e+='</div><button class="tvl-btn ttl-header-next-button" data-ng-click="next()">&#62;</button></th></tr>',e+='<tr class="ttl-calendar-header">';for(var f=0;6>=f;f++)e+='<td class="ttl-calendar-header-day">',e+=j[f],e+="</td>";e+="</tr><tr>";for(var g=1,f=0;9>f;f++){for(var h=0;6>=h;h++)e+='<td class="ttl-calendar-day"><div data-ng-class="{\'ttl-calendar-day-hover\': hover'+g+'}" data-ng-click="daySelected('+g+')" data-ng-mouseenter="hover'+g+' = true" data-ng-mouseleave="hover'+g+' = false"><p class="ttl-calendar-day-text">',c>=g&&(f>0||h>=b)&&(e+=g,g++),e+="</p></div></td>";if(g>c)break;e+="</tr><tr>"}return e+="</tr></table>"};b.bind("mouseup",function(){d.$apply(function(){!p&&d.display&&(p=!1,d.display=!1)})}),d.$watch("display",function(b){b?(u(),q=d.$new(),o=a(v())(q),e.after(o)):!b&&o&&(p=!1,q.$destroy(),o.remove())}),d.previous=function(){o.remove(),n>0?n--:(n=11,m--),o=a(v())(d),e.after(o)},d.next=function(){o.remove(),11>n?n++:(n=0,m++),o=a(v())(d),e.after(o)},d.onMouseEnter=function(){p=!0},d.onMouseLeave=function(){p=!1},d.daySelected=function(a){var b=g.$viewValue.split(/[\s]/);"undefined"==typeof b[1]||"undefined"==typeof b[2]?c(function(){g.$setViewValue(i(n+1,2)+"/"+i(a,2)+"/"+i(m,4)),g.$render(),e[0].focus()},0):c(function(){g.$setViewValue(i(n+1,2)+"/"+i(a,2)+"/"+i(m,4)+" "+b[1]+" "+b[2]),g.$render(),e[0].focus()},0),d.display=!1}}}}])}(),function(){"use strict";var a=angular.module("std.date",[]);a.directive("stdDate",["$filter","$timeout","stdUtil",function(a,b){return{require:"ngModel",link:function(c,d,e,f){function g(){var a=0;if(document.selection){d[0].focus();var b=document.selection.createRange();b.moveStart("character",-d[0].value.length),a=b.text.length}else(d[0].selectionStart||"0"==d[0].selectionStart)&&(a=d[0].selectionStart);return a}function h(a,b){for(var c=[],d=a;b>=d;d++)c.push(d);return c}function i(){return d[0].value.substring(D[0],D[D.length-1])}function j(a,b,c,d){return a.substring(0,b)+d+a.substring(c)}function k(a,b){var c=b-a.toString().length+1;return Array(+(c>0&&c)).join("0")+a}function l(a){f.$setViewValue(j(d[0].value,D[0],D[D.length-1],a)),f.$render()}function m(a,b,c,e){d[0].setSelectionRange(a,b),D=c,E=e}function n(a){return parseInt(a.keyCode>=96&&a.keyCode<=105?String.fromCharCode(a.keyCode-48):String.fromCharCode(a.keyCode))}function o(a){return!isNaN(parseFloat(a))&&isFinite(a)}var p="MM/dd/yyyy",q=p.split("/"),r=q[0].toLowerCase(),s=q[1].toLowerCase(),t=q[2].toLowerCase(),u=0,v=r.length,w=v+1,x=w+s.length,y=x+1,z=y+t.length,A=h(u,v),B=h(w,x),C=h(y,z),D=[],E=!1,F=(new Date).getTime(),G=F,H=-1!=navigator.userAgent.toLowerCase().indexOf("msie")||-1!=navigator.userAgent.toLowerCase().indexOf("trident");d.bind("keydown",function(a){if(37===a.keyCode&&(D===C?m(w,x,B,!0):D===B&&m(u,v,A,!0)),(39===a.keyCode||191===a.keyCode)&&(D===A?m(w,x,B,!0):D===B&&m(y,z,C,!0)),8===a.keyCode){var b=i();D!==A||isNaN(b)?D===A&&isNaN(b)?(m(y,z,C,!0),l(t),m(y,z,C,!0)):D!==B||isNaN(b)?D===B&&isNaN(b)?(m(u,v,A,!0),l(r),m(u,v,A,!0)):D!==C||isNaN(b)?D===C&&isNaN(b)&&(m(w,x,B,!0),l(s),m(w,x,B,!0)):(l(t),m(y,z,C,!0)):(l(s),m(w,x,B,!0)):(l(r),m(u,v,A,!0))}if(46===a.keyCode){var b=i();D!==A||isNaN(b)?D===A&&isNaN(b)?(m(w,x,B),l(s),m(w,x,B,!0)):D!==B||isNaN(b)?D===B&&isNaN(b)?(m(y,z,C,!0),l(t),m(y,z,C,!0)):D!==C||isNaN(b)?D===C&&isNaN(b)&&(m(u,v,A,!0),l(r),m(u,v,A,!0)):(l(t),m(y,z,C,!0)):(l(s),m(w,x,B,!0)):(l(r),m(u,v,A,!0))}if(9!==a.keyCode||a.shiftKey||(D===A?(m(w,x,B,!0),a.preventDefault()):D===B&&(m(y,z,C,!0),a.preventDefault())),9===a.keyCode&&a.shiftKey&&(D===B?(m(u,v,A,!0),a.preventDefault()):D===C&&(m(w,x,B,!0),a.preventDefault())),a.keyCode>=48&&a.keyCode<=57||a.keyCode>=96&&a.keyCode<=105){var c,d,b=i();if(""===b)return;if(d=parseInt(b),c=n(a),D===A)"mm"===r&&(1===d&&[0,1,2].indexOf(c)>-1&&!E?(l(d.toString()+c.toString()),m(w,x,B,!0)):0===d&&[1,2,3,4,5,6,7,8,9].indexOf(c)>-1&&!E?(l(d.toString()+c.toString()),m(w,x,B,!0)):(E||isNaN(d))&&1>=c?(l("0"+c.toString()),m(u,v,A,!1)):E&&[2,3,4,5,6,7,8,9].indexOf(c)>-1?(l("0"+c.toString()),m(w,x,B,!0)):[4,5,6,7,8,9].indexOf(c)>-1?(m(w,x,B,!1),l("0"+c.toString()),m(y,z,C,!0)):(m(w,x,B,!0),l("0"+c.toString()),m(w,x,B,!1)));else if(D===B)"dd"===s&&([0,1,2].indexOf(d)>-1&&[0,1,2,3,4,5,6,7,8,9].indexOf(c)>-1&&!E?(l(d.toString()+c.toString()),m(y,z,C,!0)):3===d&&[0,1].indexOf(c)>-1&&!E?(l(d.toString()+c.toString()),m(y,z,C,!0)):3===d&&[2,3,4,5,6,7,8,9].indexOf(c)>-1&&!E?(m(y,z,C,!0),l(k(c,4)),m(y,z,C,!1)):E||isNaN(d)?(l("0"+c.toString()),[4,5,6,7,8,9].indexOf(c)>-1?m(y,z,C,!0):m(w,x,B,!1)):(m(y,z,C,!0),l(k(c,4)),m(y,z,C,!1)));else if(D===C&&"yyyy"===t){if(E){c=n(a);var e=c.toString();c=parseInt("200"+e)}else if([2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009].indexOf(d)>-1){c=n(a);var e=c.toString();c=parseInt("20"+(d%10).toString()+e)}else if(!isNaN(c)&&b.length>=4){var f=b.substring(1);c=f+n(a).toString()}l(k(c,4)),m(y,z,C,!1)}}9!==a.keyCode&&a.preventDefault()}),d.bind("mouseup",function(){var a=g(),b=window.getSelection();b.removeAllRanges(),A.indexOf(a)>-1&&m(u,v,A,!0),B.indexOf(a)>-1&&m(w,x,B,!0),C.indexOf(a)>-1&&m(y,z,C,!0)}),d.bind("mousemove",function(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1,!1}),d.bind("mousedown",function(a){var b=(new Date).getTime();return 450>b-F?(G=F,F=b,a.preventDefault(),!1):(G=F,void(F=b))}),d.bind("copy",function(a){var b=d[0].value;H?window.clipboardData.setData("Text",b):a.clipboardData.setData("text/plain",b),a.preventDefault()}),d.bind("cut",function(a){a.preventDefault()}),d.bind("paste",function(a){a.preventDefault()}),d.bind("focus",function(){b(function(){var a=g(),b=window.getSelection();b.removeAllRanges(),A.indexOf(a)>-1&&m(u,v,A,!0),B.indexOf(a)>-1&&m(w,x,B,!0),C.indexOf(a)>-1&&m(y,z,C,!0)},0)}),d.bind("blur",function(){null===f.$modelValue&&(d[0].value="mm/dd/yyyy")}),d.addClass("ttl-date-selection"),f.$formatters.push(function(b){f.$setValidity("invalid-date",!0);var c=Date.parse(b);if(isNaN(c))return"mm/dd/yyyy";var d=new Date(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate());return a("date")(d,"MM/dd/yyyy")}),f.$parsers.push(function(a){if("mm/dd/yyyy"===a)return f.$setValidity("invalid-date",!0),null;var b=a.split(/[\/]+/),c=b.join(""),d=o(c);if(!d)return f.$setValidity("invalid-date",!1),new Date("Invalid");var e=parseInt(b[2]),g=parseInt(b[0]),h=parseInt(b[1]),i=e%4===0&&(e%100||e%400===0)?29:28,j=[31,i,31,30,31,30,31,31,30,31,30,31],l=j[g-1];return h=l-h>=0?h:l,h!==parseInt(b[1])&&f.$setViewValue(b[0]+"/"+k(h,2)+"/"+b[2]),f.$setValidity("invalid-date",!0),new Date(e,g-1,h)})}}}])}(),function(){"use strict";var a=angular.module("std.datetime",[]);a.directive("stdDatetime",["$filter","$timeout","$parse",function(a,b,c){return{require:"ngModel",link:function(d,e,f,g){function h(){var a=0;if(document.selection){e[0].focus();var b=document.selection.createRange();b.moveStart("character",-e[0].value.length),a=b.text.length}else(e[0].selectionStart||"0"==e[0].selectionStart)&&(a=e[0].selectionStart);return a}function i(a,b){for(var c=[],d=a;b>=d;d++)c.push(d);return c}function j(){return e[0].value.substring(S[0],S[S.length-1])}function k(a,b,c,d){return a.substring(0,b)+d+a.substring(c)}function l(a,b){var c=b-a.toString().length+1;return Array(+(c>0&&c)).join("0")+a}function m(a){g.$setViewValue(k(e[0].value,S[0],S[S.length-1],a)),g.$render()}function n(a,b,c,d){e[0].setSelectionRange(a,b),S=c,T=d}function o(a){return parseInt(a.keyCode>=96&&a.keyCode<=105?String.fromCharCode(a.keyCode-48):String.fromCharCode(a.keyCode))}function p(a){return!isNaN(parseFloat(a))&&isFinite(a)}function q(a){var b=a.split(/[\s\/:]+/),c=b[5];b.pop();var d=new Date,e=parseInt(b[2]),f=parseInt(b[0]),g=parseInt(b[1]),h=parseInt(b[3]),i=parseInt(b[4]),j=e%4===0&&(e%100||e%400===0)?29:28,k=[31,j,31,30,31,30,31,31,30,31,30,31],l=k[f-1];return l&&(g=l-g>=0?g:l),e=p(e)?e:d.getFullYear(),f=p(f)?f:d.getMonth()+1,g=p(g)?g:d.getDay()+1,h=p(h)?h:12,i=p(i)?i:0,new Date(f+"/"+g+"/"+e+" "+h+":"+i+" "+c)}var r,s=c(f.isNullable)(d),t="MM/dd/yyyy hh:mm a",u=t.split(/[\s\/:]+/),v=u[0].toLowerCase(),w=u[1].toLowerCase(),x=u[2].toLowerCase(),y=u[3].toLowerCase(),z=u[4].toLowerCase(),A=(u[5].toLowerCase(),0),B=v.length,C=B+1,D=C+w.length,E=D+1,F=E+x.length,G=F+1,H=G+y.length,I=H+1,J=I+z.length,K=J+1,L=K+2,M=i(A,B),N=i(C,D),O=i(E,F),P=i(G,H),Q=i(I,J),R=i(K,L),S=[],T=!1,U=!1;g.rangeInitialized=T;var V=!1,W=(new Date).getTime(),X=W,Y=-1!=navigator.userAgent.toLowerCase().indexOf("msie")||-1!=navigator.userAgent.toLowerCase().indexOf("trident");e.bind("keydown",function(a){if(r||null===r||(r=d.field.value.$),27===a.keyCode)return d.field.value.$=r,void a.preventDefault();if(37===a.keyCode&&(S===R?n(I,J,Q,!0):S===Q?n(G,H,P,!0):S===P?n(E,F,O,!0):S===O?n(C,D,N,!0):S===N&&n(A,B,M,!0)),(39===a.keyCode||191===a.keyCode)&&(S===M?n(C,D,N,!0):S===N?n(E,F,O,!0):S===O?n(G,H,P,!0):S===P?n(I,J,Q,!0):S===Q&&n(K,L,R,!0)),8===a.keyCode){var b=j();S!==M||isNaN(b)?S===M&&isNaN(b)?n(K,L,R,!0):S!==N||isNaN(b)?S===N&&isNaN(b)?(n(A,B,M,!0),m(v),n(A,B,M,!0)):S!==O||isNaN(b)?S===O&&isNaN(b)?(n(C,D,N,!0),m(w),n(C,D,N,!0)):S!==P||isNaN(b)?S===P&&isNaN(b)?(n(E,F,O,!0),m(x),n(E,F,O,!0)):S!==Q||isNaN(b)?S===Q&&isNaN(b)?(n(G,H,P,!0),m(y),n(G,H,P,!0)):S===R&&n(I,J,Q,!0):(m(z),n(I,J,Q,!0)):(m(y),n(G,H,P,!0)):(m(x),n(E,F,O,!0)):(m(w),n(C,D,N,!0)):(m(v),n(A,B,M,!0))}if(46===a.keyCode)return g.$setViewValue("mm/dd/yyyy hh:mm AM"),g.$render(),n(A,B,M,!0),void a.preventDefault();if(9!==a.keyCode||a.shiftKey||(S===M?(n(C,D,N,!0),a.preventDefault()):S===N?(n(E,F,O,!0),a.preventDefault()):S===O?(n(G,H,P,!0),a.preventDefault()):S===P?(n(I,J,Q,!0),a.preventDefault()):S===Q&&(n(K,L,R,!0),a.preventDefault())),9===a.keyCode&&a.shiftKey&&(S===N?(n(A,B,M,!0),a.preventDefault()):S===O?(n(C,D,N,!0),a.preventDefault()):S===P?(n(E,F,O,!0),a.preventDefault()):S===Q?(n(G,H,P,!0),a.preventDefault()):S===R&&(n(I,J,Q,!0),a.preventDefault())),a.keyCode>=48&&a.keyCode<=57||a.keyCode>=96&&a.keyCode<=105){var c,e,b=j();if(""===b)return;if(e=parseInt(b),c=o(a),0===S.length&&(S=M,T=!0,U=!0),S===M)"mm"===v&&(1===e&&[0,1,2].indexOf(c)>-1&&!T?(m(e.toString()+c.toString()),n(C,D,N,!0)):0===e&&[1,2,3,4,5,6,7,8,9].indexOf(c)>-1&&!T?(m(e.toString()+c.toString()),n(C,D,N,!0)):(T||isNaN(e))&&1>=c?(m("0"+c.toString()),n(A,B,M,!1)):T&&[2,3,4,5,6,7,8,9].indexOf(c)>-1?(m("0"+c.toString()),n(C,D,N,!0)):[4,5,6,7,8,9].indexOf(c)>-1?(n(C,D,N,!1),m("0"+c.toString()),n(E,F,O,!0)):(n(C,D,N,!0),m("0"+c.toString()),n(C,D,N,!1)));else if(S===N)"dd"===w&&([0,1,2].indexOf(e)>-1&&[0,1,2,3,4,5,6,7,8,9].indexOf(c)>-1&&!T?(m(e.toString()+c.toString()),n(E,F,O,!0)):3===e&&[0,1].indexOf(c)>-1&&!T?(m(e.toString()+c.toString()),n(E,F,O,!0)):3===e&&[2,3,4,5,6,7,8,9].indexOf(c)>-1&&!T?(n(E,F,O,!0),m(l(c,4)),n(E,F,O,!1)):T||isNaN(e)?(m("0"+c.toString()),[4,5,6,7,8,9].indexOf(c)>-1?n(E,F,O,!0):n(C,D,N,!1)):(n(E,F,O,!0),m(l(c,4)),n(E,F,O,!1)));else if(S===O){if("yyyy"===x){if(T){c=o(a);var f=c.toString();c=parseInt("200"+f)}else if([2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009].indexOf(e)>-1){c=o(a);var f=c.toString();c=parseInt("20"+(e%10).toString()+f)}else if(!isNaN(c)&&b.length>=4){var h=b.substring(1);c=h+o(a).toString()}m(l(c,4)),n(E,F,O,!1)}}else S===P?"hh"===y&&([0].indexOf(e)>-1&&[0,1,2,3,4,5,6,7,8,9].indexOf(c)>-1&&!T?(m(e.toString()+c.toString()),n(I,J,Q,!0)):[1].indexOf(e)>-1&&[0,1,2].indexOf(c)>-1&&!T?(m(e.toString()+c.toString()),n(I,J,Q,!0)):V&&1===e&&[3,4,5,6,7,8,9].indexOf(c)>-1&&!T?(m(e.toString()+c.toString()),n(I,J,Q,!0)):V&&2===e&&[1,2,3].indexOf(c)>-1&&!T?(m(e.toString()+c.toString()),n(I,J,Q,!0)):T||isNaN(e)?(m("0"+c.toString()),[0,1].indexOf(c)>-1||V&&[0,1,2].indexOf(c)>-1?n(G,H,P,!1):n(I,J,Q,!0)):!V&&[2,3,4,5,6,7,8,9].indexOf(c)>-1?(n(I,J,Q,!0),m("0"+c.toString()),n(I,J,Q,!1)):V&&[3,4,5,6,7,8,9].indexOf(c)>-1?(m("0"+c.toString()),n(I,J,Q,!0)):(m("0"+c.toString()),n(G,H,P,!0))):S===Q&&"mm"===z&&([0,1,2,3,4,5].indexOf(e)>-1&&[0,1,2,3,4,5,6,7,8,9].indexOf(c)>-1&&!T?(m(e.toString()+c.toString()),n(K,L,R,!0)):(m("0"+c.toString()),n(I,J,Q,!1)))}if(S===R){var e=j();65===a.keyCode&&m("AM"),80===a.keyCode&&m("PM"),(38===a.keyCode||40===a.keyCode||32===a.keyCode)&&m("AM"===e.toString()?"PM":"AM"),n(K,L,R,!1)}9!==a.keyCode&&a.preventDefault()}),e.bind("mouseup",function(){var a=h(),b=window.getSelection();b.removeAllRanges(),M.indexOf(a)>-1&&n(A,B,M,!0),N.indexOf(a)>-1&&n(C,D,N,!0),O.indexOf(a)>-1&&n(E,F,O,!0),P.indexOf(a)>-1&&n(G,H,P,!0),Q.indexOf(a)>-1&&n(I,J,Q,!0),R.indexOf(a)>-1&&n(K,L,R,!0)}),e.bind("mousemove",function(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1,!1}),e.bind("mousedown",function(a){var b=(new Date).getTime();return 450>b-W?(X=W,W=b,a.preventDefault(),!1):(X=W,void(W=b))}),e.bind("copy",function(a){var b=e[0].value;Y?window.clipboardData.setData("Text",b):a.clipboardData.setData("text/plain",b),a.preventDefault()}),e.bind("cut",function(a){a.preventDefault()}),e.bind("paste",function(a){a.preventDefault()}),e.bind("focus",function(){r||null===r||(r=d.field.value.$),b(function(){if(U)return void(U=!1);var a=h(),b=window.getSelection();b.removeAllRanges(),M.indexOf(a)>-1&&n(A,B,M,!0),N.indexOf(a)>-1&&n(C,D,N,!0),O.indexOf(a)>-1&&n(E,F,O,!0),P.indexOf(a)>-1&&n(G,H,P,!0),Q.indexOf(a)>-1&&n(I,J,Q,!0),R.indexOf(a)>-1&&n(K,L,R,!0)},0)}),e.bind("blur",function(){null===g.$modelValue&&(e[0].value="mm/dd/yyyy hh:mm AM")}),e.addClass("ttl-date-selection"),g.$formatters.push(function(b){r=b,g.$setValidity("invalid-date",!0);var c=Date.parse(b);return isNaN(c)?"mm/dd/yyyy hh:mm AM":a("date")(b,"MM/dd/yyyy hh:mm a")}),g.$parsers.push(function(a){if("mm/dd/yyyy hh:mm AM"===a||"mm/dd/yyyy hh:mm PM"===a)return s?g.$setValidity("invalid-date",!0):g.$setValidity("invalid-date",!1),null;var b=a.split(/[\s\/:]+/),c=b[5];b.pop();var d=b.join(""),e=p(d);if(!e||0===parseInt(b[0])||0===parseInt(b[2])||0===parseInt(b[3]))return g.$setValidity("invalid-date",!1),new Date("Invalid");var f=parseInt(b[2]),h=parseInt(b[0]),i=parseInt(b[1]),j=f%4===0&&(f%100||f%400===0)?29:28,k=[31,j,31,30,31,30,31,31,30,31,30,31],m=k[h-1];i=m-i>=0?i:m,i!==parseInt(b[1])&&g.$setViewValue(b[0]+"/"+l(i,2)+"/"+b[2]+" "+b[3]+":"+b[4]+" "+c);var n=a.replace(/AM||PM/g,"");if(n=new Date(n),!V){var o=parseInt(b[3]);"AM"===c&&12===o?o=0:"PM"===c&&12>o&&(o+=12),n.setHours(o)}return g.$setValidity("invalid-date",!0),n}),d.$on("$destroy",function(){d.$parent.field.context.isGrid&&(null===g.$modelValue||("[object Date]"===Object.prototype.toString.call(g.$modelValue)?isNaN(g.$modelValue.getTime())&&(d.$parent.field.value.$=q(g.$viewValue)):d.$parent.field.value.$=q(g.$viewValue)))})}}}])}(),function(){"use strict";var a=angular.module("std.decimal",[]);a.directive("stdDecimal",[function(){return{require:"ngModel",scope:{stdDecimal:"="},link:function(a,b,c,d){function e(a,c,e,f){f||(f=0);var g=b[0].selectionStart,h=b[0].selectionEnd+a.length-c.length+f;d.$setViewValue(e),d.$render(),b[0].setSelectionRange(g,h)}var f=a.stdDecimal.type.isNullable,g=a.stdDecimal.type.property.decimalPlaces,h=a.stdDecimal.type.property.maximumValue,i=a.stdDecimal.type.property.minimumValue;h="undefined"==typeof h?2147483647:h,i="undefined"==typeof i?-2147483647:i,"undefined"==typeof g&&(g=0);var j=38-g;d.$formatters.push(function(a){return a}),d.$parsers.push(function(a){if(a.toString().split(".").length-1>1)return e(a,a,d.$modelValue,-1),d.$modelValue;var b=Number(a).toPrecision(),c=String(a).split(".");if(c.length>=2)var k=c[0].length>j,l=c[1].length>g;else k=c[0].length>j;if("NaN"===b||k||l){var m=String(a).split(""),n="-"===m[0]?!0:!1,c=String(a).split("."),o="";if(c.length>=2){var p=c[0].toString().replace(/[^0-9]+/g,"").substring(0,j),q=c[1].toString().replace(/[^0-9]+/g,"").substring(0,g);o=p+"."+q}else o=c[0].toString().replace(/[^0-9]+/g,"").substring(0,j);if(a!==o&&(n&&(o="-"+o),d.$viewValue!==o)){var r=(a.match(/-/g)||[]).length;r>1?e(o,a,o):j===p.length||g===q.length?e(o,a,o,1):e(o,a,o)}return isNaN(d.$modelValue)?f?null:void 0:+d.$modelValue}return""===a?f?null:void 0:h&&b>h?(e(a,a,d.$modelValue,-1),d.$modelValue):i&&i>b?(e(a,a,d.$modelValue,-1),d.$modelValue):+b}),b.bind("blur",function(){if(""!==b.val()){var a=b.val().split("."),c="",d="";a.length>=2?(c="-"===a[0]?"-0":""===a[0]?"0":a[0].toString(),d=""===a[1]?"0":a[1].toString(),b.val(c+"."+d)):b.val(b.val()+".0")}}),b.bind("keypress",function(a){32===a.keyCode&&a.preventDefault()})}}}])}(),function(){"use strict";var a=angular.module("std.download",[]);a.directive("stdDownload",["$templateCache","$sce",function(a,b){return{restrict:"E",scope:{url:"=",refs:"="},template:a.get("src/templates/common/download.html"),link:function(a,c){a.data={url:void 0,refs:void 0},a.$watch("url",function(d){d&&(a.data.url=b.trustAsResourceUrl(a.url),a.data.refs=a.refs,c[0].submit())})}}}])}(),function(){"use strict";var a=angular.module("std.duration",[]);a.directive("stdDuration",["$filter","$timeout","$parse",function(a,b,c){return{require:"ngModel",scope:{stdDurationPeriod:"="},link:function(a,d,e,f){function g(){var a=0;if(document.selection){d[0].focus();var b=document.selection.createRange();b.moveStart("character",-d[0].value.length),a=b.text.length}else(d[0].selectionStart||"0"==d[0].selectionStart)&&(a=d[0].selectionStart);return a}function h(a,b){for(var c=[],d=a;b>=d;d++)c.push(d);return c}function i(){return d[0].value.substring(E[0],E[E.length-1])}function j(a,b,c,d){return a.substring(0,b)+d+a.substring(c)}function k(a,b){var c=b-a.toString().length+1;return Array(+(c>0&&c)).join("0")+a}function l(a){f.$setViewValue(j(d[0].value,E[0],E[E.length-1],a)),f.$render()}function m(a,b,c,e){d[0].setSelectionRange(a,b),E=c,F=e}function n(a){return parseInt(a.keyCode>=96&&a.keyCode<=105?String.fromCharCode(a.keyCode-48):String.fromCharCode(a.keyCode))}var o,p=c(e.isNullable)(a),q="hh:mm a",r=q.split(/[\s\/:]+/),s=r[0].toLowerCase(),t=r[1].toLowerCase(),u=r[2].toLowerCase(),v=0,w=s.length,x=w+1,y=x+t.length,z=y+1,A=z+2,B=h(v,w),C=h(x,y),D=h(z,A),E=[],F=!1,G=!1;f.rangeInitialized=F;var H=!1,I=(new Date).getTime(),J=I,K=-1!=navigator.userAgent.toLowerCase().indexOf("msie")||-1!=navigator.userAgent.toLowerCase().indexOf("trident");d.bind("keydown",function(b){if(o||null===o||(o=a.field.value.$),27===b.keyCode)return void b.preventDefault();if(37===b.keyCode&&(E===D?m(x,y,C,!0):E===C?m(v,w,B,!0):E===B&&m(z,A,D,!0)),(39===b.keyCode||191===b.keyCode)&&(E===B?m(x,y,C,!0):E===C?m(z,A,D,!0):E===D&&m(v,w,B,!0)),8===b.keyCode){var c=i();E!==B||isNaN(c)?E===B&&isNaN(c)?m(x,y,C,!0):E!==C||isNaN(c)?E===C&&isNaN(c)?(m(z,A,B,!0),l(u),m(z,A,B,!0)):E!==D||isNaN(c)?E===D&&isNaN(c)&&(m(v,w,B,!0),l(s),m(v,w,B,!0)):(l(u),m(z,A,D,!0)):(l(t),m(x,y,C,!0)):(l(s),m(v,w,B,!0))}if(46===b.keyCode)return f.$setViewValue("hh:mm AM"),f.$render(),m(v,w,B,!0),void b.preventDefault();
if(9!==b.keyCode||b.shiftKey||E===B&&(m(x,y,C,!0),b.preventDefault()),9===b.keyCode&&b.shiftKey&&E===C&&(m(v,w,B,!0),b.preventDefault()),b.keyCode>=48&&b.keyCode<=57||b.keyCode>=96&&b.keyCode<=105){var d,e,c=i();if(""===c)return;e=parseInt(c),d=n(b),0===E.length&&(E=B,F=!0,G=!0),E===B?"hh"===s&&([0].indexOf(e)>-1&&[0,1,2,3,4,5,6,7,8,9].indexOf(d)>-1&&!F?(l(e.toString()+d.toString()),m(x,y,C,!0)):[1].indexOf(e)>-1&&[0,1,2].indexOf(d)>-1&&!F?(l(e.toString()+d.toString()),m(x,y,C,!0)):H&&1===e&&[3,4,5,6,7,8,9].indexOf(d)>-1&&!F?(l(e.toString()+d.toString()),m(x,y,C,!0)):H&&2===e&&[1,2,3].indexOf(d)>-1&&!F?(l(e.toString()+d.toString()),m(x,y,C,!0)):F||isNaN(e)?(l("0"+d.toString()),[0,1].indexOf(d)>-1||H&&[0,1,2].indexOf(d)>-1?m(v,w,B,!1):m(x,y,C,!0)):!H&&[2,3,4,5,6,7,8,9].indexOf(d)>-1?(m(x,y,C,!0),l("0"+d.toString()),m(x,y,C,!1)):H&&[3,4,5,6,7,8,9].indexOf(d)>-1?(l("0"+d.toString()),m(x,y,C,!0)):(l("0"+d.toString()),m(v,w,B,!0))):E===C&&"mm"===t&&([0,1,2,3,4,5].indexOf(e)>-1&&[0,1,2,3,4,5,6,7,8,9].indexOf(d)>-1&&!F?(l(e.toString()+d.toString()),m(v,w,B,!0)):(l("0"+d.toString()),m(x,y,C,!1)))}if(E===D){var e=i();65===b.keyCode&&l("AM"),80===b.keyCode&&l("PM"),(38===b.keyCode||40===b.keyCode||32===b.keyCode)&&l("AM"===e.toString()?"PM":"AM"),m(z,A,D,!1)}9!==b.keyCode&&b.preventDefault()}),d.bind("mouseup",function(){var a=g(),b=window.getSelection();b.removeAllRanges(),B.indexOf(a)>-1&&m(v,w,B,!0),C.indexOf(a)>-1&&m(x,y,C,!0),D.indexOf(a)>-1&&m(z,A,D,!0)}),d.bind("mousemove",function(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1,!1}),d.bind("mousedown",function(a){var b=(new Date).getTime();return 450>b-I?(J=I,I=b,a.preventDefault(),!1):(J=I,void(I=b))}),d.bind("copy",function(a){var b=d[0].value;K?window.clipboardData.setData("Text",b):a.clipboardData.setData("text/plain",b),a.preventDefault()}),d.bind("cut",function(a){a.preventDefault()}),d.bind("paste",function(a){a.preventDefault()}),d.bind("focus",function(){b(function(){if(o||null===o||(o=a.field.value.$),G)return void(G=!1);var b=g(),c=window.getSelection();c.removeAllRanges(),B.indexOf(b)>-1&&m(v,w,B,!0),C.indexOf(b)>-1&&m(x,y,C,!0)},0)}),d.bind("blur",function(){null===f.$modelValue&&(d[0].value="hh:mm AM")}),d.addClass("ttl-date-selection");var L=function(a){var b={},c=moment.duration(a)._data;if(c){var d=c.hours;return b.years=c.years,b.months=c.months,b.days=c.days,b.hours=d>12?d-12:d,b.hours=0===d?12:b.hours,b.minutes=c.minutes,b.seconds=c.seconds,b.period=d>=12?"PM":"AM",b}throw new Error("Invalid Format")};f.$formatters.push(function(a){o=a,f.$setValidity("invalid-time",!0);var b=L(a);return b?k(b.hours,2)+":"+k(b.minutes,2)+" "+b.period:"hh:mm AM"}),f.$parsers.push(function(a){if("hh:mm AM"===a||"hh:mm PM"===a)return p?f.$setValidity("invalid-time",!0):f.$setValidity("invalid-time",!1),null;var b=a.split(/[\s\/:]+/),c=b[2],d=parseInt(b[0]),e=parseInt(b[1]);return H||("AM"===c&&12===d?d=0:"PM"===c&&12>d&&(d+=12)),f.$setValidity("invalid-time",!0),"PT"+d+"H"+e+"M"})}}}])}(),function(){"use strict";var a=angular.module("std.file.change",[]);a.directive("stdFileChange",["$parse",function(a){return{require:"ngModel",restrict:"A",link:function(b,c,d){var e=a(d.stdFileChange),f=function(a){e(b,{$event:a,files:a.target.files})};c[0].addEventListener("change",f,!1)}}}])}(),function(){"use strict";var a=angular.module("std.float",[]);a.directive("stdFloat",[function(){return{require:"ngModel",scope:{stdFloat:"="},link:function(a,b,c,d){var e=a.stdFloat;d.$formatters.push(function(a){return a}),d.$parsers.push(function(a){if(a.toString().split(".").length-1>1)return d.$setViewValue(d.$modelValue),d.$render(),d.$modelValue;var c=Number(a).toPrecision();if("NaN"===c){var f=String(a).split(""),g="-"===f[0]?!0:!1,h=String(a).split("."),i="";if(i=h.length>=2?h[0].toString().replace(/[^0-9]+/g,"")+"."+h[1].toString().replace(/[^0-9]+/g,""):h[0].toString().replace(/[^0-9]+/g,""),a!==i&&(g&&(i="-"+i),d.$viewValue!==i)){var j=b[0].selectionStart,k=b[0].selectionEnd+i.length-a.length;d.$setViewValue(i),d.$render(),b[0].setSelectionRange(j,k)}return isNaN(d.$modelValue)?e?null:void 0:+d.$modelValue}return""===a?e?null:void 0:+c}),b.bind("blur",function(){if(""!==b.val()){var a=b.val().split("."),c="",d="";a.length>=2?(c="-"===a[0]?"-0":""===a[0]?"0":a[0].toString().replace(/[^0-9]+/g,""),d=""===a[1]?"0":a[1].toString().replace(/[^0-9]+/g,""),b.val(c+"."+d)):b.val(b.val()+".0")}}),b.bind("keypress",function(a){32===a.keyCode&&a.preventDefault()})}}}])}(),function(){"use strict";var a=angular.module("std.grid.focus",[]);a.directive("stdGridFocus",["$document",function(){return{scope:{stdGridFocus:"="},link:function(a,b){function c(a,b){for(var c=b.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}document.addEventListener("focus",function(d){var e=d.target||d.srcElement;a.stdGridFocus=c(b[0],e)||e.tagName&&"body"===e.tagName.toLowerCase()},!0)}}}])}(),function(){"use strict";var a=angular.module("std.indeterminate",[]);a.directive("stdIndeterminate",[function(){return{require:"ngModel",scope:{stdIndeterminate:"="},link:function(a,b,c,d){if(a.stdIndeterminate){var e=!0,f=!1,g=null;d.$formatters=[],d.$parsers=[],d.$render=function(){var a=d.$viewValue;switch(b.data("checked",a),a){case e:b.prop("indeterminate",!1),b.prop("checked",!0);break;case f:b.prop("indeterminate",!1),b.prop("checked",!1);break;default:b.prop("indeterminate",!0)}},b.bind("click",function(){var c;switch(b.data("checked")){case f:c=e;break;case e:c=g;break;default:c=f}d.$setViewValue(c),a.$apply(d.$render)})}}}}])}(),function(){"use strict";var a=angular.module("std.integer.only",[]);a.directive("stdIntegerOnly",[function(){return{require:"ngModel",scope:{stdIntegerOnly:"="},link:function(a,b,c,d){function e(a,c,e){var f=b[0].selectionStart,g=b[0].selectionEnd+a.length-c.length;d.$setViewValue(e),d.$render(),b[0].setSelectionRange(f,g)}var f=a.stdIntegerOnly.type.isNullable,g=a.stdIntegerOnly.context.isEdit,h=a.stdIntegerOnly.context.isSearch,i=a.stdIntegerOnly.context.isGrid,j=a.stdIntegerOnly.type.property.maximumValue,k=a.stdIntegerOnly.type.property.minimumValue;j="undefined"==typeof j?2147483647:j,k="undefined"==typeof k?-2147483647:k,d.$parsers.push(function(a){var b=String(a).split(""),c="-"===b[0]?!0:!1,l=a.toString().replace(/[^0-9]+/g,"");return a!==l&&(c&&(l="-"+l),d.$viewValue!==l&&e(l,a,l)),j&&parseInt(l)>j?(e(l,a,d.$modelValue),d.$modelValue):k&&parseInt(l)<k?(e(l,a,d.$modelValue),d.$modelValue):""===l&&h?void 0:""===l&&(g||i)?null:isNaN(l)&&h?f?null:void 0:isNaN(l)&&(g||i)?null:parseInt(l)}),b.bind("keypress",function(a){32===a.keyCode&&a.preventDefault()})}}}])}(),function(){"use strict";var a=angular.module("std.intl.phone",[]);goog.require("goog.dom"),goog.require("goog.json"),goog.require("goog.proto2.ObjectSerializer"),goog.require("goog.string.StringBuffer"),goog.require("i18n.phonenumbers.AsYouTypeFormatter"),goog.require("i18n.phonenumbers.PhoneNumberFormat"),goog.require("i18n.phonenumbers.PhoneNumberType"),goog.require("i18n.phonenumbers.PhoneNumberUtil"),goog.require("i18n.phonenumbers.PhoneNumberUtil.ValidationResult"),a.directive("stdIntlPhone",["$filter","$browser",function(a,b){return{require:"ngModel",link:function(a,c,d,e){var f=i18n.phonenumbers.PhoneNumberUtil.getInstance(),g=i18n.phonenumbers.PhoneNumberFormat,h=function(){var b=c.val().replace(/[^0-9]/g,"");try{var d=a.$parent.field.children.countryCode.value.$?a.$parent.field.children.countryCode.value.$:a.$parent.field.property.countryCode,e=f.parseAndKeepRawInput(b,d);c.val(f.format(e,g.NATIONAL))}catch(h){c.val(b)}};e.$parsers.push(function(a){return a.replace(/[^0-9]/g,"")}),e.$render=function(){var b=e.$modelValue;try{var d=a.$parent.field.children.countryCode.value.$?a.$parent.field.children.countryCode.value.$:a.$parent.field.property.countryCode,h=f.parseAndKeepRawInput(b,d);c.val(f.format(h,g.NATIONAL))}catch(i){c.val(b)}},c.bind("change",h),c.bind("keydown",function(a){var c=a.keyCode;91==c||c>15&&19>c||c>=37&&40>=c||b.defer(h)}),c.bind("paste cut",function(){b.defer(h)})}}}])}(),function(){"use strict";var a=angular.module("std.intl.postal.code",[]);a.directive("stdIntlPostalCode",["$filter","$browser",function(a,b){return{require:"ngModel",link:function(c,d,e,f){var g=function(){var b=d.val().replace(/[^0-9]/g,"");d.val(a("zip")(b,!1))};f.$parsers.push(function(a){return a.replace(/[^0-9]/g,"").slice(0,9)}),f.$render=function(){d.val(a("zip")(f.$viewValue,!1))},d.bind("change",g),d.bind("keydown",function(a){var c=a.keyCode;91==c||c>15&&19>c||c>=37&&40>=c||b.defer(g)}),d.bind("paste cut",function(){b.defer(g)})}}}]),a.filter("stdIntlPostalCode",function(){return function(a){if(!a)return"";var b=a.toString().trim().replace(/^\+/,"");if(b.match(/[^0-9]/))return a;var c=b;return b.length>5&&(c=c.slice(0,5)+"-"+c.slice(5,9)),c.trim()}})}(),function(){"use strict";angular.module("std.mask",[]).value("maskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/}}).directive("stdMask",["maskConfig","$parse",function(a,b){return{priority:100,require:"ngModel",restrict:"A",compile:function(){var c=a;return function(a,d,e,f){function g(a){return angular.isDefined(a)?(t(a),O?(l(),m(),!0):k()):k()}function h(a){angular.isDefined(a)&&(E=a,O&&x())}function i(a){return O?(H=p(a||""),J=o(H),f.$setValidity("mask",J),J&&H.length?q(H):void 0):a}function j(a){return O?(H=p(a||""),J=o(H),f.$viewValue=H.length?q(H):"",f.$setValidity("mask",J),""===H&&e.required&&f.$setValidity("required",!1),J?H:void 0):a}function k(){return O=!1,n(),angular.isDefined(Q)?d.attr("placeholder",Q):d.removeAttr("placeholder"),angular.isDefined(R)?d.attr("maxlength",R):d.removeAttr("maxlength"),d.val(f.$modelValue),f.$viewValue=f.$modelValue,!1}function l(){H=L=p(f.$modelValue||""),I=K=q(H),J=o(H);var a=J&&H.length?I:"";e.maxlength&&d.attr("maxlength",2*C[C.length-1]),d.attr("placeholder",E),d.val(a),f.$viewValue=a}function m(){P||(d.bind("blur",u),d.bind("mousedown mouseup",v),d.bind("input keyup click focus",x),P=!0)}function n(){P&&(d.unbind("blur",u),d.unbind("mousedown",v),d.unbind("mouseup",v),d.unbind("input",x),d.unbind("keyup",x),d.unbind("click",x),d.unbind("focus",x),P=!1)}function o(a){return a.length?a.length>=G:!0}function p(a){var b="",c=D.slice();return a=a.toString(),angular.forEach(F,function(b){a=a.replace(b,"")}),angular.forEach(a.split(""),function(a){c.length&&c[0].test(a)&&(b+=a,c.shift())}),b}function q(a){var b="",c=C.slice();return angular.forEach(E.split(""),function(d,e){a.length&&e===c[0]?(b+=a.charAt(0)||"_",a=a.substr(1),c.shift()):b+=d}),b}function r(a){var b=e.placeholder;return"undefined"!=typeof b&&b[a]?b[a]:"_"}function s(){return E.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function t(a){var b=0;if(C=[],D=[],E="","string"==typeof a){G=0;var c=!1,d=a.split("");angular.forEach(d,function(a,d){S.maskDefinitions[a]?(C.push(b),E+=r(d),D.push(S.maskDefinitions[a]),b++,c||G++):"?"===a?c=!0:(E+=a,b++)})}C.push(C.slice().pop()+1),F=s(),O=C.length>1?!0:!1}function u(){M=0,N=0,J&&0!==H.length||(I="",d.val(""),a.$apply(function(){f.$setViewValue("")}))}function v(a){"mousedown"===a.type?d.bind("mouseout",w):d.unbind("mouseout",w)}function w(){N=B(this),d.unbind("mouseout",w)}function x(b){b=b||{};var c=b.which,e=b.type;if(16!==c&&91!==c){var g,h=d.val(),i=K,j=p(h),k=L,l=!1,m=z(this)||0,n=M||0,o=m-n,r=C[0],s=C[j.length]||C.slice().shift(),t=N||0,u=B(this)>0,v=t>0,w=h.length>i.length||t&&h.length>i.length-t,x=h.length<i.length||t&&h.length===i.length-t,D=c>=37&&40>=c&&b.shiftKey,E=37===c,F=8===c||"keyup"!==e&&x&&-1===o,G=46===c||"keyup"!==e&&x&&0===o&&!v,H=(E||F||"click"===e)&&m>r;if(N=B(this),!D&&(!u||"click"!==e&&"keyup"!==e)){if("input"===e&&x&&!v&&j===k){for(;F&&m>r&&!y(m);)m--;for(;G&&s>m&&-1===C.indexOf(m);)m++;var I=C.indexOf(m);j=j.substring(0,I)+j.substring(I+1),l=!0}for(g=q(j),K=g,L=j,d.val(g),l&&a.$apply(function(){f.$setViewValue(j)}),w&&r>=m&&(m=r+1),H&&m--,m=m>s?s:r>m?r:m;!y(m)&&m>r&&s>m;)m+=H?-1:1;(H&&s>m||w&&!y(n))&&m++,M=m,A(this,m)}}}function y(a){return C.indexOf(a)>-1}function z(a){if(!a)return 0;if(void 0!==a.selectionStart)return a.selectionStart;if(document.selection){a.focus();var b=document.selection.createRange();return b.moveStart("character",a.value?-a.value.length:0),b.text.length}return 0}function A(a,b){if(!a)return 0;if(0!==a.offsetWidth&&0!==a.offsetHeight)if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}function B(a){return a?void 0!==a.selectionStart?a.selectionEnd-a.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var C,D,E,F,G,H,I,J,K,L,M,N,O=!1,P=!1,Q=e.placeholder,R=e.maxlength,S={};e.uiOptions?(S=a.$eval("["+e.uiOptions+"]"),angular.isObject(S[0])&&(S=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]?angular.extend(b[c],a[c]):b[c]=angular.copy(a[c]));return b}(c,S[0]))):S=c,e.$observe("stdMask",g),e.$observe("placeholder",h);var T=!1;e.$observe("modelViewValue",function(a){"true"===a&&(T=!0)}),a.$watch(e.ngModel,function(c){if(T&&c){var d=b(e.ngModel);d.assign(a,f.$viewValue)}}),f.$formatters.push(i),f.$parsers.push(j),d.bind("mousedown mouseup",v),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&1/0!==d&&d!==-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1})}}}}])}(),function(){"use strict";var a=angular.module("std.max",[]);a.directive("stdMax",[function(){return{require:"ngModel",link:function(a,b,c,d){var e=parseInt(c.stdMax);d.$parsers.push(function(a){var b=parseInt(a);return b>e?(d.$setViewValue(d.$modelValue),d.$render(),d.$modelValue):a})}}}])}(),function(){"use strict";var a=angular.module("std.min",[]);a.directive("stdMin",[function(){return{require:"ngModel",link:function(a,b,c,d){var e=parseInt(c.stdMin);d.$parsers.push(function(a){var b=parseInt(a);return e>b?(d.$setViewValue(d.$modelValue),d.$render(),d.$modelValue):a})}}}])}(),function(){"use strict";var a=angular.module("std.modals",[]);a.directive("stdModals",["$rootScope","stdModal",function(a){return{link:function(b){b.subview=null,a.$on("modal.open",function(a,c){b.subview=c}),a.$on("modal.close",function(){b.subview=null})}}}])}(),function(){"use strict";var a=angular.module("std.na.phone",[]);a.directive("stdNaPhone",["$filter","$browser",function(a){return{require:"ngModel",link:function(b,c,d,e){e.$formatters.push(function(b){return a("stdNaPhone")(b,!1)});var f,g,h,i;e.$parsers.push(function(b){var d=b.replace(/[^0-9]/g,"").slice(0,20),j=a("stdNaPhone")(d,!1);return j!==b&&(f=b.length,g=j.length,h=c[0].selectionStart,i=c[0].selectionEnd,h+=g-f,i+=g-f,e.$setViewValue(a("stdNaPhone")(d,!1)),e.$render(),c[0].setSelectionRange(h,i)),d}),c.bind("change",listener),c.bind("keydown",function(a){var b=a.keyCode})}}}]),a.filter("stdNaPhone",function(){return function(a){if(a.value&&(a=a.value.$?a.value.$.replace(/[^0-9]/g,""):a.value.$),!a)return"";a=String(a);var b=a,c="1"==a[0]?"+1 ":"";a="1"==a[0]?a.slice(1):a;var d=a.substring(0,3),e=a.substring(3,6),f=a.substring(6,10),g=a.substring(10,20);return e&&(b=c+"("+d+") "+e),f&&(b+="-"+f),g&&(b+=" x"+g),b}})}(),function(){"use strict";var a=angular.module("std.number.only",[]);a.directive("stdNumberOnly",["$browser",function(a){return{require:"ngModel",scope:{stdIntegerOnly:"="},link:function(b,c,d,e){var f=function(){var a=c.val().replace(/[^0-9]/g,"");c.val(a)};e.$formatters.push(function(a){return a||null===a?a:a.replace(/[^0-9]/g,"")}),e.$parsers.push(function(a){return a.replace(/[^0-9]/g,"")}),c.bind("change",f),c.bind("keydown",function(b){var c=b.keyCode;91==c||c>15&&19>c||c>=37&&40>=c||a.defer(f)}),c.bind("paste cut",function(){a.defer(f)}),c.bind("keypress",function(a){32===a.keyCode&&a.preventDefault()})}}}])}(),function(){"use strict";var a=angular.module("std.percent",[]);a.directive("stdPercent",["$document",function(a){return{require:"ngModel",scope:{stdPercent:"="},link:function(b,c,d,e){function f(a,b,d,f){f||(f=0);var g=c[0].selectionStart,h=c[0].selectionEnd+a.length-b.length+f;e.$setViewValue(d),e.$render(),c[0].setSelectionRange(g,h)}var g=b.stdPercent.type.isNullable,h=b.stdPercent.type.property.decimalPlaces,i=b.stdPercent.type.property.maximumValue,j=b.stdPercent.type.property.minimumValue;i="undefined"==typeof i?2147483647:i,j="undefined"==typeof j?-2147483647:j,"undefined"==typeof h&&(h=2);var k=38-h;e.$formatters.push(function(a){return(100*a).toFixed(2)+"%"}),e.$parsers.push(function(b){if(c[0]!==a[0].activeElement)return e.$modelValue;if(b.toString().split(".").length-1>1)return f(b,b,e.$modelValue,-1),e.$modelValue;var d=Number(b).toPrecision(),l=String(b).split(".");if(l.length>=2)var m=l[0].length>k,n=l[1].length>h;else m=l[0].length>k;if("NaN"===d||m||n){var o=String(b).split(""),p="-"===o[0]?!0:!1,l=String(b).split("."),q="";if(l.length>=2){var r=l[0].toString().replace(/[^0-9]+/g,"").substring(0,k),s=l[1].toString().replace(/[^0-9]+/g,"").substring(0,h);q=r+"."+s}else q=l[0].toString().replace(/[^0-9]+/g,"").substring(0,k);if(b!==q&&(p&&(q="-"+q),e.$viewValue!==q)){var t=(b.match(/-/g)||[]).length;t>1?f(q,b,q):k===r.length||h===s.length?f(q,b,q,1):f(q,b,q)}return isNaN(e.$modelValue)?g?null:void 0:+e.$modelValue}return""===b?g?null:void 0:i&&d>i?(f(b,b,e.$modelValue,-1),e.$modelValue):j&&j>d?(f(b,b,e.$modelValue,-1),e.$modelValue):+d}),c.bind("focus",function(){c.val(c.val().replace("$",""))}),c.bind("blur",function(){if(""!==c.val()){var a=c.val().split("."),b="",d="";a.length>=2?(b="-"===a[0]?"-0":""===a[0]?"0":a[0].toString(),d=""===a[1]||"0"===a[1]?"0%":a[1].toString().replace(/[^0-9]+/g,"")+"%",c.val(b+"."+d)):c.val(c.val()+".0%")}}),c.bind("keypress",function(a){32===a.keyCode&&a.preventDefault()})}}}])}(),function(){"use strict";var a=angular.module("std.resizable",[]);a.controller("stdResizableController",["$scope",function(){}]),a.directive("stdResizable",["$document",function(a){return{restrict:"A",replace:!1,scope:{modal:"=",direction:"@"},link:function(b,c){var d,e,f,g,h,i,j=0,k=0,l=0,m=0,n=0,o=0;c.bind("mousedown",function(c){c.preventDefault(),k=c.clientY,j=c.clientX,n=parseInt(b.modal.height,10),o=parseInt(b.modal.width,10),i=r(),a.on("mousemove",p),a.on("mouseup",q)});var p=function(a){b.$apply(function(){var c=a.pageY-k,n=a.pageX-j,o=c-m,p=n-l;m=c,l=n,d=parseInt(b.modal.height,10),e=parseInt(b.modal.width,10),g=parseInt(400,10),h=parseInt(500,10),b.direction.indexOf("w")>-1&&(h>e-p&&(j-=p-(p=e-h)),0>f+p&&(j-=p-(p=0-f)),b.modal.width=e-p+"px"),b.direction.indexOf("n")>-1&&(g>d-o&&(k-=o-(o=d-g)),0>o&&(k-=o-o),b.modal.height=d-o+"px"),b.direction.indexOf("e")>-1&&(h>e+p&&(j-=p-(p=h-e)),e+p>i[0].offsetWidth&&(j-=p-(p=i[0].offsetWidth-e)),b.modal.width=e+p+"px"),b.direction.indexOf("s")>-1&&(g>d+o&&(k-=o-(o=g-d)),d+o>i[0].offsetHeight&&(k-=o-(o=i[0].offsetHeight-d)),b.modal.height=d+o+"px")})},q=function(){j=0,k=0,l=0,m=0,a.unbind("mousemove",p),a.unbind("mouseup",q)},r=function(){return angular.element(document.querySelectorAll(".desktop-viewport-container")[0])}}}}])}(),function(){"use strict";var a=angular.module("std.search.focus",[]);a.directive("stdSearchFocus",["$document",function(){return{scope:{stdSearchFocus:"="},link:function(a,b){function c(a,b){for(var c=b.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}document.addEventListener("focus",function(d){var e=d.target||d.srcElement;a.stdSearchFocus(c(b[0],e)||e.tagName&&"body"===e.tagName.toLowerCase())},!0)}}}])}(),function(){"use strict";var a=angular.module("std.select.value.converter",[]);a.directive("stdSelectValueConverter",[function(){return{require:"ngModel",link:function(a,b,c,d){d.$formatters.push(function(a){return null===a?"null":a}),d.$parsers.push(function(a){return null===a?void 0:"null"===a?null:a})}}}])}(),function(){"use strict";var a=angular.module("std.time",[]);a.directive("stdTime",["$filter","$timeout",function(a,b){return{require:"ngModel",scope:{stdTime:"="},link:function(c,d,e,f){function g(){var a=0;if(document.selection){d[0].focus();var b=document.selection.createRange();b.moveStart("character",-d[0].value.length),a=b.text.length}else(d[0].selectionStart||"0"==d[0].selectionStart)&&(a=d[0].selectionStart);return a}function h(a,b){for(var c=[],d=a;b>=d;d++)c.push(d);return c}function i(){return d[0].value.substring(x[0],x[x.length-1])}function j(a,b,c,d){return a.substring(0,b)+d+a.substring(c)}function k(a){f.$setViewValue(j(d[0].value,x[0],x[x.length-1],a)),f.$render()}function l(a,b,c,e){d[0].setSelectionRange(a,b),x=c,y=e}function m(a){return parseInt(a.keyCode>=96&&a.keyCode<=105?String.fromCharCode(a.keyCode-48):String.fromCharCode(a.keyCode))}var n="--:--",o=n.split(":"),p=o[0],q=o[1],r=0,s=2,t=3,u=5,v=h(r,s),w=h(t,u),x=[],y=!1,z=c.stdTime.property.militaryTime,A=(new Date).getTime(),B=A,C=-1!=navigator.userAgent.toLowerCase().indexOf("msie")||-1!=navigator.userAgent.toLowerCase().indexOf("trident");d.bind("keydown",function(a){if(37===a.keyCode&&x===w&&l(r,s,v,!0),(39===a.keyCode||186===a.keyCode&&a.shiftKey)&&x===v&&l(t,u,w,!0),8===a.keyCode){var b=i();x!==v||isNaN(b)?x===v&&isNaN(b)?(l(t,u,w,!0),k(q),l(t,u,w,!0)):x!==w||isNaN(b)?x===w&&isNaN(b)&&(l(r,s,v,!0),k(p),l(r,s,v,!0)):(k(q),l(t,u,w,!0)):(k(p),l(r,s,v,!0))}if(46===a.keyCode){var b=i();x!==v||isNaN(b)?x===v&&isNaN(b)?(l(t,u,w),k(q),l(t,u,w,!0)):x!==w||isNaN(b)?x===w&&isNaN(b)&&(l(r,s,v,!0),k(p),l(r,s,v,!0)):(k(q),l(t,u,w,!0)):(k(p),l(r,s,v,!0))}if(9!==a.keyCode||a.shiftKey||x===v&&(l(t,u,w,!0),a.preventDefault()),9===a.keyCode&&a.shiftKey&&x===w&&(l(r,s,v,!0),a.preventDefault()),a.keyCode>=48&&a.keyCode<=57||a.keyCode>=96&&a.keyCode<=105){var c,d,b=i();if(""===b)return;d=parseInt(b),c=m(a),x===v?1===d&&[0,1,2].indexOf(c)>-1&&!y?(k(d.toString()+c.toString()),l(t,u,w,!0)):z&&1===d&&[3,4,5,6,7,8,9].indexOf(c)>-1&&!y?(k(d.toString()+c.toString()),l(t,u,w,!0)):z&&2===d&&[1,2,3].indexOf(c)>-1&&!y?(k(d.toString()+c.toString()),l(t,u,w,!0)):y||isNaN(d)?(k("0"+c.toString()),[0,1].indexOf(c)>-1||z&&[0,1,2].indexOf(c)>-1?l(r,s,v,!1):l(t,u,w,!0)):!z&&[2,3,4,5,6,7,8,9].indexOf(c)>-1?(l(t,u,w,!0),k("0"+c.toString()),l(t,u,w,!1)):z&&[3,4,5,6,7,8,9].indexOf(c)>-1?(k("0"+c.toString()),l(t,u,w,!0)):(k("0"+c.toString()),l(r,s,v,!0)):x===w&&([1,2,3,4,5].indexOf(d)>-1&&[0,1,2,3,4,5,6,7,8,9].indexOf(c)>-1&&!y?(k(d.toString()+c.toString()),l(t,u,w,!1)):(k("0"+c.toString()),l(t,u,w,!1)))}9!==a.keyCode&&a.preventDefault()}),d.bind("mouseup",function(){var a=g(),b=window.getSelection();b.removeAllRanges(),v.indexOf(a)>-1&&l(r,s,v,!0),w.indexOf(a)>-1&&l(t,u,w,!0)}),d.bind("mousemove",function(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1,!1}),d.bind("mousedown",function(a){var b=(new Date).getTime();return 450>b-A?(B=A,A=b,a.preventDefault(),!1):(B=A,void(A=b))}),d.bind("copy",function(a){var b=d[0].value;C?window.clipboardData.setData("Text",b):a.clipboardData.setData("text/plain",b),a.preventDefault()}),d.bind("cut",function(a){a.preventDefault()}),d.bind("paste",function(a){a.preventDefault()}),d.bind("focus",function(){b(function(){l(r,s,v,!0)},0)}),d.bind("blur",function(){null===f.$modelValue&&(d[0].value="--:--")}),d.addClass("ttl-date-selection"),c.$watch("stdTime.property.period",function(b,c){if(null!==f.$modelValue&&b!==c){var e=d[0].value,g=String(e).split(":"),h=parseInt(g[0]),i=parseInt(g[1]);if(isNaN(h)||isNaN(i));else{"AM"===b&&12===h?h=0:"PM"===b&&12>h&&(h+=12);var j=new Date(f.$modelValue);j.setHours(h),f.$setViewValue(a("date")(null,"hh:mm")),f.$render(),f.$setViewValue(a("date")(j,"hh:mm")),f.$render()}}}),f.$formatters.push(function(b){var d=Date.parse(b);return isNaN(d)?"--:--":(z||(c.stdTime.property.period=b.getHours()>=12?"PM":"AM"),a("date")(b,"hh:mm"))}),f.$parsers.push(function(a){var b=String(a).split(":"),d=parseInt(b[0]),e=parseInt(b[1]),g=c.stdTime.property.period;if(isNaN(d)||isNaN(e))return null;a=new Date,"AM"===g&&12===d?d=0:"PM"===g&&12>d&&(d+=12),a.setHours(d),a.setMinutes(e);var h=Date.parse(f.$modelValue);return isNaN(h)?a:(a.setFullYear(f.$modelValue.getFullYear()),a.setMonth(f.$modelValue.getMonth()),a.setDate(f.$modelValue.getDate()),a)})}}}])}(),function(){"use strict";var a=angular.module("std.trap.focus",[]);a.directive("stdTrapFocus",["$window","$document","$timeout",function(a,b){return{restrict:"A",link:function(a,c){var d,e,f=function(a){var b=c[0].querySelectorAll("input:not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled):not(.excluded)");e&&9===d?b[0]===a.target&&(a.preventDefault(),b[b.length-1].focus()):e||9!==d||b[b.length-1]===a.target&&(a.preventDefault(),b[0].focus())},g=function(a){d=a.keyCode,e=a.shiftKey};b[0].addEventListener("blur",f,!0),b[0].addEventListener("keydown",g,!0),a.$on("$destroy",function(){b[0].removeEventListener("blur",f),b[0].removeEventListener("keydown",g)})}}}])}(),function(){"use strict";var a=angular.module("std.usa.dollar",[]);a.directive("stdUsaDollar",["$document",function(a){return{require:"ngModel",scope:{stdUsaDollar:"="},link:function(b,c,d,e){var f=b.stdUsaDollar.type.isNullable,g=b.stdUsaDollar.type.property.decimalPlaces;"undefined"==typeof g&&(g=2);var h=38-g;e.$formatters.push(function(a){return null===a?a:"$"+a.toFixed(2)}),e.$parsers.push(function(b){if(c[0]!==a[0].activeElement)return e.$modelValue;var d=Number(b).toPrecision(),i=String(b).split(".");if(i.length>=2)var j=i[0].length>h,k=i[1].length>g;else j=i[0].length>h;if("NaN"===d||j||k){var l=String(b).split(""),m="-"===l[0]?!0:!1,i=String(b).split("."),n="";if(i.length>=2){var o=i[0].toString().replace(/[^0-9]+/g,"").substring(0,h),p=i[1].toString().replace(/[^0-9]+/g,"").substring(0,g);n=o+"."+p}else n=i[0].toString().replace(/[^0-9]+/g,"").substring(0,h);if(b!==n&&(m&&(n="-"+n),e.$viewValue!==n)){var q=c[0].selectionStart,r=c[0].selectionEnd+n.length-b.length;e.$setViewValue(n),e.$render(),c[0].setSelectionRange(q,r)}return isNaN(e.$modelValue)?f?null:void 0:+e.$modelValue}return""===b?f?null:void 0:+d}),c.bind("focus",function(){c.val(c.val().replace("$",""))}),c.bind("blur",function(){if(""!==c.val()){var a=c.val().split("."),b="",d="";a.length>=2?(b="-"===a[0]?"$-0":""===a[0]?"$0":"$"+a[0].toString().replace(/[^0-9]+/g,""),d=""===a[1]||"0"===a[1]?"00":a[1].toString().replace(/[^0-9]+/g,""),c.val(b+"."+d)):c.val("$"+c.val()+".00")}}),c.bind("keypress",function(a){32===a.keyCode&&a.preventDefault()})}}}])}(),function(){"use strict";var a=angular.module("std.zip",[]);a.directive("stdZip",["$filter","$browser",function(a,b){return{require:"ngModel",link:function(c,d,e,f){var g=function(){var b=d.val().replace(/[^0-9]/g,"");d.val(a("zip")(b,!1))};f.$parsers.push(function(a){return a.replace(/[^0-9]/g,"").slice(0,9)}),f.$render=function(){d.val(a("zip")(f.$viewValue,!1))},d.bind("change",g),d.bind("keydown",function(a){var c=a.keyCode;91==c||c>15&&19>c||c>=37&&40>=c||b.defer(g)}),d.bind("paste cut",function(){b.defer(g)})}}}]),a.filter("zip",function(){return function(a){if(!a)return"";var b=a.toString().trim().replace(/^\+/,"");if(b.match(/[^0-9]/))return a;var c=b;return b.length>5&&(c=c.slice(0,5)+"-"+c.slice(5,9)),c.trim()}})}(),function(){function a(a,b){return function(){a.apply(b,arguments)}}function b(b){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof b)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],h(b,a(d,this),a(e,this))}function c(a){var b=this;return null===this._state?void this._deferreds.push(a):void j(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function d(b){try{if(b===this)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if("function"==typeof c)return void h(a(c,b),a(d,this),a(e,this))}this._state=!0,this._value=b,f.call(this)}catch(g){e.call(this,g)}}function e(a){this._state=!1,this._value=a,f.call(this)}function f(){for(var a=0,b=this._deferreds.length;b>a;a++)c.call(this,this._deferreds[a]);this._deferreds=null}function g(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function h(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var i;i="object"==typeof window&&window?window:global,"undefined"!=typeof module&&module.exports?module.exports=i.Promise?i.Promise:b:i.Promise||(i.Promise=b);var j=i.setImmediate||function(a){setTimeout(a,1)},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};b.prototype["catch"]=function(a){return this.then(null,a)},b.prototype.then=function(a,d){var e=this;return new b(function(b,f){c.call(e,new g(a,d,b,f))})},b.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&k(arguments[0])?arguments[0]:arguments);return new b(function(b,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},b.resolve=function(a){return a&&"object"==typeof a&&a.constructor===b?a:new b(function(b){b(a)})},b.reject=function(a){return new b(function(b,c){c(a)})},b.race=function(a){return new b(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})}}(),function(){"use strict";var a=angular.module("std.countries",[]);a.factory("stdCountries",[function(){this.allCountries=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44",3],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy (Saint-Barthélemy)","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1]];
for(var a=0;a<this.allCountries.length;a++){var b=this.allCountries[a];this.allCountries[a]={name:b[0],iso2:b[1],dialCode:b[2],priority:b[3]||0,areaCodes:b[4]||null}}return{allCountries:this.allCountries}}])}(),function(){"use strict";var a=angular.module("std.display",[]);a.factory("stdDisplay",[function(){return this.setVisibility=function(a,b){b||a.html("")},{setVisibility:this.setVisibility}}])}(),function(){"use strict";var a=angular.module("std.file.reader",[]);a.factory("stdFileReader",[function(){return this.read=function(a,b){if("image"===b){var c=/^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i;if(!c.test(a.type))return void alert("You must select a valid image file!")}return new Promise(function(b){var c=new FileReader;c.onload=function(c){var d={data:c.target.result,mimeType:a.type,filename:a.name};b(d)},c.readAsDataURL(a)})},{read:this.read}}])}(),function(){"use strict";var a=angular.module("std.filter",[]);a.service("stdFilter",["$filter",function(a){this.formatDate=function(b,c){return null===b?null:isNaN(b.getTime())?"":a("date")(b,c)}}])}(),function(){"use strict";var a=angular.module("std.modal",[]);a.service("stdModal",["$rootScope","$q",function(a,b){function c(a,c,d){var e=h.deferred;return h.deferred=b.defer(),h.params=c,e&&d?h.deferred.promise.then(e.resolve,e.reject):e&&e.reject(),h.deferred.promise}function d(){return h.params||{}}function e(a,b){return c(a,b,!0)}function f(b){h.deferred&&(h.deferred.reject(b),h.deferred=h.params=null,a.$emit("modal.close"))}function g(b){h.deferred&&(h.deferred.resolve(b),h.deferred=h.params=null,a.$emit("modal.close"))}var h={deferred:null,params:null};return{open:c,params:d,proceedTo:e,reject:f,resolve:g}}])}(),function(){"use strict";var a=angular.module("std.number",[]);a.factory("stdNumber",[function(){return this.isUndefined=function(a){return"undefined"==typeof a},{getClosest:this.getClosest,isUndefined:this.isUndefined,tryParseInt:this.tryParseInt}}])}(),function(){"use strict";var a=angular.module("std.operator.lookup",[]);a.factory("stdOperatorLookup",[function(){var a={equal:{operator:"eq",operatorImage:"ico-equal",operatorImageMessage:"Equal To"},"not-equal":{operator:"not-eq",operatorImage:"ico-not-equal",operatorImageMessage:"Not Equal To"},"greater-than":{operator:"gt",operatorImage:"ico-greater-than",operatorImageMessage:"Greater Than"},"greater-than-or-equal":{operator:"ge",operatorImage:"ico-greater-than-or-equal",operatorImageMessage:"Greater Than Or Equal To"},"less-than":{operator:"lt",operatorImage:"ico-less-than",operatorImageMessage:"Less Than"},"less-than-or-equal":{operator:"le",operatorImage:"ico-less-than-or-equal",operatorImageMessage:"Less Than Or Equal To"},contains:{operator:"contains",operatorImage:"ico-contains",operatorImageMessage:"Contains"},undefined:{operator:"eq",operatorImage:"ico-equal",operatorImageMessage:"Equal To"}};return a}])}(),function(){"use strict";var a=angular.module("std.util",[]);a.factory("stdUtil",[function(){return this.getCursorPosition=function(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b},this.getClosestParentByClass=function(a,b){for(var c=b.charAt(0);a&&a!==document;a=a.parentNode)if("."===c&&a.classList&&a.classList.contains(b.substr(1)))return a;return null},this.isUndefined=function(a){return"undefined"==typeof a},this.tryParseInt=function(a,b){var c=b;return null!==a&&a.length>0&&(isNaN(a)||(c=parseInt(a))),c},this.isDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)?isNaN(a.getTime())?!1:!0:!1},{getCursorPosition:this.getCursorPosition,getClosestParentByClass:this.getClosestParentByClass,isUndefined:this.isUndefined,tryParseInt:this.tryParseInt,isDate:this.isDate}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdBoolean",[function(){return function(a){var b=a.value.$;return null===b?null:b?"True":"False"}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdChoiceLabel",[function(){return function(a){if(null===a.value.$)return null;if(!a.type)return a.value.$;var b=a.type.choices.filter(function(b){return b.value.$===a.value.$});return 0==b.length?null:b[0].label}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdDateShort",["stdFilter",function(a){return function(b){var c=b.value.$;if(null===c||"undefined"==typeof c)return null;var d=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate());return a.formatDate(d,"MM/dd/yyyy")}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdDatetimeShort",["stdFilter",function(a){return function(b){var c=b.value.$;return a.formatDate(c,"MM/dd/yyyy hh:mm a")}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdDatetimeSpanShort",["stdFilter",function(a){return function(b){b=b.children;var c=b.start.value.$,d=b.end.value.$,e="";return null!==c?(e=a.formatDate(c,"MM/dd/yyyy hh:mm a")+" - ",null!=d&&(e+=c.getYear()===d.getYear()&&c.getMonth()===d.getMonth()&&c.getDay()===d.getDay()?a.formatDate(d,"hh:mm a"):a.formatDate(d,"MM/dd/yyyy hh:mm a"))):null!==d&&(e+=a.formatDate(d,"MM/dd/yyyy hh:mm a")),e}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdDecimal",[function(){return function(a){var b=a.value.$;return null===b?null:b.toString()}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdFile",[function(){return function(a){var b="";return null!==a.children.filename.value.$&&(b+=a.children.filename.value.$),b}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdFloat",[function(){return function(a){var b=a.value.$;return null===b?null:b.toString()}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdId",[function(){return function(a){return"function"==typeof a.recordId?a.recordId():a.value.$}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdInteger",[function(){return function(a){var b=a.value.$;return null===b?null:b.toString()}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdIntlAddressBasic",["dataService",function(a){a.createContext();return function(a){a=a.children;var b="";return null!==a.address1.value.$&&(b+=a.address1.value.$+" "),null!==a.address2.value.$&&(b+=a.address2.value.$+" "),null!==a.country.value.$&&(b+=a.country.value.$+" "),null!==a.city.value.$&&(b+=a.city.value.$+" "),null!==a.stateProvince.value.$&&(b+=a.stateProvince.value.$+" "),null!==a.postalCode.value.$&&(b+=a.postalCode.value.$+" "),b}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdIntlAddress",["dataService",function(a){a.createContext();return function(a){a=a.children;var b="";return null!==a.address1.value.$&&(b+=a.address1.value.$+" "),null!==a.address2.value.$&&(b+=a.address2.value.$+" "),null!==a.country.value.$&&(b+=a.country.value.$+" "),null!==a.city.value.$&&(b+=a.city.value.$+" "),null!==a.stateProvince.value.$&&(b+=a.stateProvince.value.$+" "),null!==a.postalCode.value.$&&(b+=a.postalCode.value.$+" "),b}}])}(),function(){"use strict";var a=angular.module("std.formatters");goog.require("goog.dom"),goog.require("goog.json"),goog.require("goog.proto2.ObjectSerializer"),goog.require("goog.string.StringBuffer"),goog.require("i18n.phonenumbers.AsYouTypeFormatter"),goog.require("i18n.phonenumbers.PhoneNumberFormat"),goog.require("i18n.phonenumbers.PhoneNumberType"),goog.require("i18n.phonenumbers.PhoneNumberUtil"),goog.require("i18n.phonenumbers.PhoneNumberUtil.ValidationResult"),a.filter("stdIntlPhone",["stdCountries",function(a){return function(b){var c=b;b=b.children;var d="";if(null!==b.countryCode.value.$){var e=_.find(a.allCountries,function(a){return a.iso2===b.countryCode.value.$}),f=e.dialCode;d+="+"+f+" "}if(null!==b.phone.value.$){var g=b.phone.value.$.replace(/[^0-9]/g,"");try{var h=i18n.phonenumbers.PhoneNumberUtil.getInstance(),i=i18n.phonenumbers.PhoneNumberFormat,j=b.countryCode.value.$?b.countryCode.value.$:c.property.countryCode,k=h.parseAndKeepRawInput(g,j);d+=h.format(k,i.NATIONAL)+" "}catch(l){d+=g+" "}}return null!==b.extension.value.$&&(d+=" x"+b.extension.value.$),d}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdPassword",[function(){return function(a){var b=a.value.$;return null===b?null:b.length>0?"********":""}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdPercentage",[function(){return function(a){var b=a.value.$;return null===b?null:(100*b).toFixed(2)+"%"}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdPicture",[function(){return function(a){var b="";return null!==a.children.filename.value.$&&(b+=a.children.filename.value.$),b}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdRef",[function(){return function(a){var b=a.value.$;return null===b?null:b.toString()}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdText",[function(){return function(a){return a.value.$}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdTimeShort",["$filter",function(a){return function(b){var c=b.value.$;if(null===c)return null;var d=moment.duration(c)._data,e=new Date("01/01/1999 "+d.hours+":"+d.minutes+":"+d.seconds);return a("date")(e,"hh:mm a")}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdTimeSpanHhMmSs",[function(){return function(a){return a=a.children,a.hours.value.$+" H, "+a.minutes.value.$+" M, "+a.seconds.value.$+"."+a.milliseconds.value.$+" S"}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdUsaAddress",["dataService","$q",function(a,b){function c(a){function c(){if(i="",null!==a.address1.value.$&&(i+=a.address1.value.$+" "),null!==a.address2.value.$&&(i+=a.address2.value.$+" "),null!==a.city.value.$&&(i+=a.city.value.$+" "),null!==a.state.value.$){var b=d.entityAccess("StdUSAState").findInCache(a.state.value.$);b&&(i+=b.Code+", ")}return null!==a.zip.value.$&&(i+=a.zip.value.$.length>5?a.zip.value.$.substring(0,5)+"-"+a.zip.value.$.substring(5):a.zip.value.$),i}var g=b.defer(),h={deferred:g,cfg:a.children};f.push(h),a=a.children;var i="Loading...";return d.entityAccess("StdUSAState").findInCache(a.state.value.$)?c():(e===!1&&(e=!0,d.entityAccess("StdUSAState").search().then(function(){for(var b=0;b<f.length;b++)a=f[b].cfg,f[b].deferred.resolve(c())}).finally(function(){e=!1})),g.promise)}var d=a.createContext(),e=!1,f=[];return c}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdUsaDollars",[function(){return function(a){var b=a.value.$;return null===b?null:"$"+b.toFixed(2)}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdUsaSocialSecurity",[function(){return function(a){var b=a.value.$;return null===b?null:b.substring(0,3)+"-"+b.substring(3,5)+"-"+b.substring(5)}}])}(),function(){"use strict";var a=angular.module("std.formatters");a.filter("stdUsaZip",[function(){return function(a){var b=a.value.$;return null===b?null:b.length>5?b.substring(0,5)+"-"+b.substring(5):b}}])}(),angular.module("tru.type.lib").run(["$templateCache",function(a){"use strict";a.put("src/templates/common/std-download.html",'<div>\r\n    <form action="{{data.url}}" action="POST">\r\n        <input type="hidden" name="refs" value="{{data.refs}}">\r\n    </form>\r\n</div>\r\n'),a.put("src/templates/edit/std-adorner-edit.html",'<div>\r\n    <input data-ng-focus="onFocus()"\r\n           type="text"/>\r\n</div>'),a.put("src/templates/edit/std-checkbox-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input data-ng-model="field.value.$"\r\n           data-ng-checked="field.value.$"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           data-std-indeterminate="field.type.isNullable"\r\n           data-z-validate\r\n           type="checkbox">\r\n</tru-label>'),a.put("src/templates/edit/std-country-code-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div style="height:20px">\r\n        <div style="float:left;position:relative;top:50%;transform:translateY(-50%);margin-right:3px;width:20px;" class="iti-flag" data-ng-class="data.selectedCountryIso2"></div>\r\n        <select data-ng-model="data.selectedCountry"\r\n                data-ng-options="x as x.name for x in countries"\r\n                data-ng-change="onChange(data.selectedCountry)"\r\n                data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n                class="ttl-dropdown-edit dropdown control"\r\n                style="float:left;width:100px;">\r\n        </select>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/edit/std-date-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div class="ttl-date-wrapper">\r\n        <div>\r\n            <input data-ng-model="field.value.$"\r\n                   data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n                   data-ng-trim="false"\r\n                   data-std-date\r\n                   data-std-calendar display="show"\r\n                   data-z-validate\r\n                   type="text"\r\n                   class="ttl-date"/>\r\n        </div>\r\n        <button data-ng-click="show = !show"\r\n                data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n                tabindex="-1"\r\n                class="ttl-date-button"><i class="ttl-date-button-icon ico-calendar"></i>\r\n        </button>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/edit/std-datetime-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div class="ttl-datetime-wrapper">\r\n        <div>\r\n            <input data-ng-model="field.value.$"\r\n                   data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n                   data-ng-trim="false"\r\n                   data-std-datetime="field" is-nullable="field.type.isNullable"\r\n                   data-std-calendar display="show"\r\n                   data-z-validate\r\n                   type="text"\r\n                   style="float:left;width:140px;"/>\r\n        </div>\r\n        <button data-ng-click="show = !show"\r\n                data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n                class="ttl-date-button"\r\n                tabindex="-1"\r\n                style="float:left"><i class="ttl-date-button-icon ico-calendar"></i>\r\n        </button>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/edit/std-datetime-span-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <tru-column>\r\n        <div style="min-width:320px">\r\n            <div>\r\n                <std-datetime-edit label="Start" field="field.children.start"></std-datetime-edit>\r\n            </div>\r\n            <div>\r\n                <std-datetime-edit label="End" field="field.children.end"></std-datetime-edit>\r\n            </div>\r\n        </div>\r\n    </tru-column>\r\n</tru-label>'),a.put("src/templates/edit/std-decimal-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input data-ng-model="field.value.$"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           data-ng-trim="false"\r\n           std-decimal="field"\r\n           data-z-validate\r\n           type="text"\r\n            />\r\n</tru-label>'),a.put("src/templates/edit/std-dropdown-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div class="ttl-dropdown-edit-wrapper">\r\n        <div data-ng-show="!data.show" style="position:relative;background-color:#fff;height:20px;width:100%;z-index:100;"><p>Loading...</p></div>\r\n        <select data-ng-model="data.value"\r\n                data-ng-options="x.value.$ as x.label for x in choices"\r\n                data-ng-change="onChange()"\r\n                data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n                data-ng-show="data.show"\r\n                data-z-validate\r\n                class=" dropdown control"\r\n                data-ng-class="showGoTo ? \'ttl-dropdown-edit\' : \'ttl-dropdown-edit-no-button\'">\r\n        </select>\r\n        <button data-ng-click="goTo()"\r\n                data-ng-show="showGoTo"\r\n                data-ng-cloak\r\n                data-ng-style="showGoTo ? {\'display\': \'block\'} : {\'display\': \'none\'}"\r\n                class="tvl-btn"\r\n                style="float:left;height:20px;width:25px;padding:0;position:relative;display:none;"\r\n                type="button"\r\n                >\r\n            <i style="" class="icon-external-link"></i>\r\n        </button>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/edit/std-file-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <button data-ng-click="upload()"\r\n            data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n            class="btn btn_textOnly">Upload</button>\r\n    <a data-ng-click="download()"\r\n       data-ng-disabled="!field.value.data"\r\n       download=""\r\n       href=""\r\n       class="anchorElement download btn btn_textOnly"\r\n       style="vertical-align: middle;">Download</a>\r\n    <input data-ng-model="field.property.data"\r\n           data-std-file-change="fileChanged($event)"\r\n           type="file"\r\n           class="fileElement"\r\n           style="display:none"/>\r\n    <div style="overflow:hidden;padding:5px;">\r\n        <div class="renderElement"></div>\r\n        <p data-ng-if="noDataMessage" style="color:red;">{{noDataMessage}}</p>\r\n    </div>\r\n</tru-label>\r\n'),a.put("src/templates/edit/std-float-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input data-ng-model="field.value.$"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           data-ng-trim="false"\r\n           std-float="field.type.isNullable"\r\n           data-z-validate\r\n           type="text"\r\n            />\r\n</tru-label>'),a.put("src/templates/edit/std-integer-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input data-ng-model="field.value.$"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           data-ng-trim="false"\r\n           data-std-integer-only="field"\r\n           data-z-validate\r\n           type="text"\r\n            />\r\n</tru-label>'),a.put("src/templates/edit/std-intl-address-basic-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div>\r\n        <std-textbox-edit label="Address 1" field="field.children.address1"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-textbox-edit label="Address 2" field="field.children.address2"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px;width:100%;">\r\n        <div style="float:left;width: calc(100% - 375px);height:25px;">\r\n            <std-textbox-edit label="City" field="field.children.city"></std-textbox-edit>\r\n        </div>\r\n        <div style="float:left;width:200px">\r\n            <std-textbox-edit label="State/Province" field="field.children.stateProvince"></std-textbox-edit>\r\n        </div>\r\n        <div style="float:left;width:175px">\r\n            <std-textbox-edit label="Postal Code" field="field.children.postalCode"></std-textbox-edit>\r\n        </div>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-textbox-edit label="Country" field="field.children.country"></std-textbox-edit>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/edit/std-intl-address-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div>\r\n        <std-textbox-edit label="Address 1" field="field.children.address1"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-textbox-edit label="Address 2" field="field.children.address2"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-dropdown-edit label="Country" field="field.children.country"></std-dropdown-edit>\r\n    </div>\r\n    <div style="margin-top:5px;width:100%;">\r\n        <div style="float:left;width: calc(100% - 370px);">\r\n            <std-textbox-edit label="City" field="field.children.city"></std-textbox-edit>\r\n        </div>\r\n        <div style="float:left;width:175px">\r\n            <std-textbox-edit label="State/Province" field="field.children.stateProvince" ng-show="showStateProvinceText"></std-textbox-edit>\r\n            <std-intl-state-edit label="State/Province" field="field.children" ng-show="!showStateProvinceText"></std-intl-state-edit>\r\n        </div>\r\n        <div style="float:left;width:195px">\r\n            <std-textbox-edit label="Postal Code" field="field.children.postalCode"></std-textbox-edit>\r\n        </div>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/edit/std-intl-phone-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div style="width:100%;min-width:300px">\r\n        <div style="float:left;width:105px">\r\n            <div style="height:20px">\r\n                <!--<div style="float:left;position:relative;top:50%;transform:translateY(-50%);margin-right:3px;width:20px;" class="iti-flag" data-ng-class="field.children.countryCode.value.$"></div>-->\r\n                <select data-ng-model="data.selectedCountry"\r\n                        data-ng-options="x as x.name for x in countries"\r\n                        data-ng-change="onCountryCodeChange(data.selectedCountry)"\r\n                        data-ng-disabled="!field.children.countryCode.context.isEditing || !field.children.countryCode.type.canEdit"\r\n                        class="ttl-dropdown-edit dropdown control"\r\n                        style="float:left;width:100px;">\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <div style="float:left;width: calc(100% - 220px);">\r\n            <i tabindex="-1" class="icon-phone" style="float:left;margin-right: 3px;margin-left: 0px;margin-top: 2px;"></i>\r\n            <div style="height:18px;width:50px;background-color:#efefef;float:left;border:#cccccc 1px solid;text-align:center;line-height:18px;">+{{field.property.dialCode}}</div>\r\n            <input data-ng-model="field.children.phone.value.$"\r\n                   data-ng-disabled="!field.children.phone.context.isEditing || !field.children.phone.type.canEdit"\r\n                   data-std-intl-phone\r\n                   data-ng-trim="false"\r\n                   data-z-validate\r\n                   style="border-left-width: 0px;float: left;width: calc(100% - 70px);"\r\n                   type="text"\r\n                    />\r\n        </div>\r\n        <div style="float:left;width:115px">\r\n            <div style="float:left;margin-right: 1px;margin-left: 3px;width:10px;margin-top:5px;">x</div>\r\n            <input data-ng-model="field.children.extension.value.$"\r\n                   data-ng-disabled="!field.children.extension.context.isEditing || !field.children.extension.type.canEdit"\r\n                   data-std-number-only\r\n                   maxlength="{{field.children.extension.type.property.maxLength}}"\r\n                   data-ng-trim="false"\r\n                   data-z-validate\r\n                   style="float: left;width: 100px;"\r\n                   type="text"\r\n                    />\r\n        </div>\r\n    </div>\r\n</tru-label>\r\n\r\n\r\n'),a.put("src/templates/edit/std-intl-phone-number-edit.html",'<tru-label label="{{label}}" field="field.phone">\r\n    <div style="height:18px;width:50px;background-color:#efefef;float:left;border:#cccccc 1px solid">{{data.dialCode}}</div>\r\n    <input data-ng-model="field.phone.value.$"\r\n           data-ng-disabled="!field.phone.context.isEditing || !field.phone.type.canEdit"\r\n           maxlength="{{field.phone.type.property.maxLength}}"\r\n           data-ng-trim="false"\r\n           data-z-validate\r\n           style="border-left-width: 0px;float: left;width: 200px;"\r\n           type="text"\r\n            />\r\n</tru-label>'),a.put("src/templates/edit/std-intl-state-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div class="ttl-dropdown-edit-wrapper">\r\n        <div data-ng-show="!data.show" style="position:relative;background-color:#fff;height:20px;width:100%;z-index:100;"><p>Loading...</p></div>\r\n        <select data-ng-model="data.value"\r\n                data-ng-options="x.value.$ as x.label for x in choices"\r\n                data-ng-change="onChange()"\r\n                data-ng-disabled="!field.stateProvince.context.isEditing || !field.stateProvince.type.canEdit"\r\n                data-z-validate\r\n                class="ttl-dropdown-edit-no-button dropdown control"\r\n                >\r\n        </select>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/edit/std-link-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <a data-ng-click="field.goTo()"\r\n       data-ng-disabled="!field.type.canEdit"\r\n       href="#">{{field | stdId}}\r\n    </a>\r\n</tru-label>'),a.put("src/templates/edit/std-masked-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input\r\n           data-ng-model="data.value"\r\n           data-ng-model-options="{ updateOn: \'default blur\'}"\r\n           data-ng-change="onChange()"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           data-ng-trim="false"\r\n           data-std-mask="{{field.property.entryFilter}}"\r\n           data-z-validate\r\n           placeholder="{{field.property.watermark}}"\r\n           type="text"\r\n            />\r\n</tru-label>'),a.put("src/templates/edit/std-multiline-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <textarea data-ng-model="field.value.$"\r\n              data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n              data-ng-trim="false"\r\n              data-z-validate\r\n              rows="{{field.property.rows}}"\r\n              style="width:100%;">\r\n    </textarea>\r\n</tru-label>'),a.put("src/templates/edit/std-na-phone-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input data-ng-model="field.value.$"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           data-ng-trim="false"\r\n           data-std-na-phone\r\n           data-z-validate\r\n           placeholder="+1 ___-___- ____ x____"\r\n           type="text"\r\n            />\r\n</tru-label>'),a.put("src/templates/edit/std-password-edit.html",'<div class="ttl-password-edit-wrapper">\r\n    <div\r\n        std-modals\r\n        ng-show="subview"\r\n        class="ttl-modals"\r\n        ng-switch="subview">\r\n        <div data-ng-controller="stdPasswordModalController"\r\n            data-ng-switch-when="password"\r\n            data-tru-label-container\r\n            data-std-trap-focus\r\n            class="ttl-modal" style="height:125px;min-height:0;">\r\n            <div style="position:absolute;top:0;left:0;right:0;height:30px;">\r\n                <h4 style="margin-left: 5px;margin-top: 5px;float:left;">\r\n                    {{setOrChange}} Password\r\n                </h4>\r\n                <button type="button" style="float:right;font-size:12px;padding:0;margin-right: 5px;margin-top: 5px;" class="desktop-btn desktop-btn-default desktop-window-close-button excluded" data-ng-class="{\'desktop-window-close-button\': window.active}" title="Close Dialog - [ESC]" data-ng-click="cancel($event)" tabindex="-1">\r\n                    <span class="desktop-icon-close"></span>\r\n                </button>\r\n            </div>\r\n            <div style="position:absolute;top:30px;left:0;right:0;bottom:35px;height:auto;">\r\n                <div>\r\n                    <div>\r\n                        <tru-label label="Password">\r\n                            <input type="password"\r\n                                   data-ng-model="data.password"\r\n                                   data-ng-change="onPasswordChange()"\r\n                                   data-ng-mouseenter="onPasswordMouseEnter()"\r\n                                   data-ng-mouseleave="onPasswordMouseLeave()"\r\n                                   data-ng-keydown="onPasswordKeyDown($event)"\r\n                                   data-ng-class="{\'ttl-invalid-input\': errorMessage ? true : false}"\r\n                                   data-ng-focus="passwordIsFocused = true"\r\n                                   data-ng-blur="passwordIsFocused = false"\r\n                                    />\r\n                        <span class="ttl-invalid-indicator" data-ng-show="field.context.isEditing && errorMessage && mouseOverPassword && passwordIsFocused">\r\n                            <i class="icon-warning-sign icon-white"></i>{{errorMessage}}\r\n                        </span>\r\n                        </tru-label>\r\n                    </div>\r\n                    <div style="margin-top: 5px;">\r\n                        <tru-label label="Confirm Password">\r\n                            <input type="password"\r\n                                   data-ng-model="data.confirmPassword"\r\n                                   data-ng-change="onConfirmPasswordChange()"\r\n                                   data-ng-mouseenter="onConfirmPasswordMouseEnter()"\r\n                                   data-ng-mouseleave="onConfirmPasswordMouseLeave()"\r\n                                   data-ng-class="{\'ttl-invalid-input\': confirmErrorMessage ? true : false}"\r\n                                   data-ng-focus="confirmPasswordIsFocused = true"\r\n                                   data-ng-blur="confirmPasswordIsFocused = false"\r\n                                    />\r\n                        <span class="ttl-invalid-indicator" data-ng-show="field.context.isEditing && confirmErrorMessage && mouseOverConfirmPassword && confirmPasswordIsFocused">\r\n                            <i class="icon-warning-sign icon-white"></i>{{confirmErrorMessage}}\r\n                        </span>\r\n                        </tru-label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div style="position:absolute;left:0;right:0;bottom:0;height:35px;">\r\n                <div style="float:right;margin-right: 5px;">\r\n                    <button data-ng-click="onOkClick()"\r\n                            data-ng-keydown="onOkKeyDown($event)"\r\n                            data-ng-class="{\'tvl-btn-primary\': formIsValid}"\r\n                            data-ng-disabled="!formIsValid"\r\n                            class="tvl-btn">Set\r\n                    </button>\r\n                    <button data-ng-click="onClearClick()"\r\n                            data-ng-if="field.type.isNullable"\r\n                            class="tvl-btn">Set No Value\r\n                    </button>\r\n                    <button data-ng-click="onCancelClick()"\r\n                            data-ng-keydown="onCancelKeyDown($event)"\r\n                            class="tvl-btn"\r\n                            >Cancel\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <tru-label label="{{label}}">\r\n        <button data-ng-click="onPasswordButtonClick()"\r\n                data-ng-keydown="onPasswordButtonKeyDown($event)"\r\n                data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n                data-ng-class="{\'ttl-invalid-button\': field.getValidationErrors().length > 0}"\r\n                data-ng-mouseenter="onMouseEnterPasswordButton()"\r\n                data-ng-mouseleave="onMouseLeavePasswordButton()"\r\n                class="tvl-btn"\r\n                >{{setOrChange}} Password...\r\n        </button>\r\n        <span class="ttl-invalid-indicator" data-ng-show="field.context.isEditing && field.getValidationErrors().length > 0 && mouseOverPasswordButton">\r\n            <i class="icon-warning-sign icon-white"></i>Password is required.\r\n        </span>\r\n    </tru-label>\r\n</div>'),a.put("src/templates/edit/std-percent-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input data-ng-model="field.value.$"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           data-ng-trim="false"\r\n           data-std-percent="field"\r\n           data-z-validate\r\n           type="text"\r\n            />\r\n</tru-label>'),a.put("src/templates/edit/std-record-picker-edit.html",'<div class="ttl-record-picker-outer-wrapper">\r\n    <div\r\n            std-modals\r\n            ng-show="subview"\r\n            class="ttl-modals"\r\n            ng-switch="subview">\r\n        <div data-ng-controller="stdRecordPickerModalController"\r\n             data-ng-switch-when="recordPicker"\r\n             data-ng-style="{\'height\': modal.height, \'width\': modal.width}"\r\n             data-tru-label-container\r\n             data-std-trap-focus\r\n             class="ttl-modal">\r\n            <div style="position:absolute;top:0;left:0;right:0;height:30px;">\r\n                <h4 style="margin-left: 5px;margin-top: 5px;float:left;">\r\n                    {{title}}\r\n                </h4>\r\n                <button type="button" style="float:right;font-size:12px;padding:0;margin-right: 5px;margin-top: 5px;" class="desktop-btn desktop-btn-default desktop-window-close-button excluded" data-ng-class="{\'desktop-window-close-button\': window.active}" title="Close Dialog - [ESC]" data-ng-click="cancel($event)" tabindex="-1">\r\n                    <span class="desktop-icon-close"></span>\r\n                </button>\r\n            </div>\r\n            <div style="position:absolute;top:30px;left:0;right:0;bottom:35px">\r\n                <div std-picker-view style="position:absolute;top:0;left:0;right:0;bottom:0;"></div>\r\n            </div>\r\n            <div style="position:absolute;left:0;right:0;bottom:0;height:35px;">\r\n                <div style="float:right;margin-right:5px;margin-top: 5px;">\r\n                    <button data-ng-click="submit()"\r\n                            data-ng-keydown="submitByEnter($event)"\r\n                            data-ng-disabled="!selectedId || childSearchIsFocused"\r\n                            data-ng-class="{\'tvl-btn-primary\': selectedId && !childSearchIsFocused}"\r\n                            type="button"\r\n                            class="tvl-btn">Set\r\n                    </button>\r\n                    <button data-ng-click="clear()"\r\n                            data-ng-if="field.type.isNullable"\r\n                            data-ng-keydown="onClearKeydown($event)"\r\n                            type="button"\r\n                            title="Sets the value to null in the database"\r\n                            class="tvl-btn">Set No Value\r\n                    </button>\r\n                    <button data-ng-click="cancel($event)"\r\n                            type="button"\r\n                            class="tvl-btn"\r\n                            >Cancel\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-n" data-std-resizable data-modal="modal" data-direction="n"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-s" data-std-resizable data-modal="modal" data-direction="s"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-e" data-std-resizable data-modal="modal" data-direction="e"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-w" data-std-resizable data-modal="modal" data-direction="w"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-ne" data-std-resizable data-modal="modal" data-direction="ne"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-nw" data-std-resizable data-modal="modal" data-direction="nw"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-se" data-std-resizable data-modal="modal" data-direction="se"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-sw" data-std-resizable data-modal="modal" data-direction="sw"></span>\r\n        </div>\r\n    </div>\r\n    <tru-label field="field" label="{{label}}">\r\n        <div class="ttl-record-picker-wrapper" data-ng-if="!field.context.isGrid">\r\n            <div data-ng-mousedown="onInputMousedown()" data-ng-class="showLink ? \'ttl-record-picker-display-value-wrapper\' : \'ttl-record-picker-display-value-wrapper-no-button\'">\r\n                <div class="ttl-record-picker-display-value" tabindex="-1">\r\n                    <a data-ng-click="goTo()" href="#" data-ng-show="showLink">{{data.displayValue}}</a>\r\n                    <p data-ng-show="!showLink" style="line-height:6px;">{{data.displayValue}}</p>\r\n                </div>\r\n            </div>\r\n            <button data-ng-click="onClick()"\r\n                    data-ng-keydown="onKeydown($event)"\r\n                    data-ng-disabled="!field.context.isEditing || !field.type.canEdit || open"\r\n                    data-ng-show="showLink"\r\n                    class="tvl-btn"\r\n                    style="float:left;height:20px;width:25px;padding:0;position:relative;"\r\n                    ><i class="icon-search icon-flip-horizontal"></i>\r\n                <i style="color:green;margin-left:5px;margin-top:3px;position:absolute;z-index:5;top:0;left:-20px;" class="ttl-date-button-icon icon-arrow-right animated shake" data-ng-show="showArrow && showLink"></i>\r\n            </button>\r\n        </div>\r\n    </tru-label>\r\n</div>'),a.put("src/templates/edit/std-text-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <p>{{field | stdId}}</p>\r\n</tru-label>'),a.put("src/templates/edit/std-textbox-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input data-ng-model="field.value.$"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           maxlength="{{field.type.property.maxLength}}"\r\n           data-ng-trim="false"\r\n           data-z-validate\r\n           type="text"\r\n           />\r\n</tru-label>'),a.put("src/templates/edit/std-time-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div>\r\n        <div style="float:left">\r\n            <input data-ng-model="field.value.$"\r\n                   data-std-duration\r\n                   data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n                   data-ng-trim="false"\r\n                   data-z-validate\r\n                   placeholder="__:__"\r\n                   type="text"\r\n                   class="text text_full ttl-time"/>\r\n        </div>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/edit/std-usa-address-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div>\r\n        <std-textbox-edit label="Address 1" field="field.children.address1"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-textbox-edit label="Address 2" field="field.children.address2"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px;width:100%;min-width:475px">\r\n        <div style="float:left;width: calc(100% - 255px);">\r\n            <std-textbox-edit label="City" field="field.children.city"></std-textbox-edit>\r\n        </div>\r\n        <div style="float:left;width:115px">\r\n            <std-dropdown-edit label="State" field="field.children.state"></std-dropdown-edit>\r\n        </div>\r\n        <div style="float:left;width:140px">\r\n            <std-usa-zip-5-edit label="Zip" field="field.children.zip"></std-usa-zip-5-edit>\r\n        </div>\r\n    </div>\r\n</tru-label>\r\n\r\n\r\n\r\n\r\n\r\n\r\n'),a.put("src/templates/edit/std-usa-address-zip-9-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <div>\r\n        <std-textbox-edit label="Address 1" field="field.children.address1"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-textbox-edit label="Address 2" field="field.children.address2"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px;width:100%;">\r\n        <div style="float:left;width: calc(100% - 255px);">\r\n            <std-textbox-edit label="City" field="field.children.city"></std-textbox-edit>\r\n        </div>\r\n        <div style="float:left;width:115px">\r\n            <std-dropdown-edit label="State" field="field.children.state"></std-dropdown-edit>\r\n        </div>\r\n        <div style="float:left;width:140px">\r\n            <std-usa-zip-9-edit label="Zip" field="field.children.zip"></std-usa-zip-9-edit>\r\n        </div>\r\n    </div>\r\n</tru-label>\r\n\r\n\r\n\r\n\r\n\r\n\r\n'),a.put("src/templates/edit/std-usa-dollar-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input data-ng-model="field.value.$"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           data-ng-trim="false"\r\n           data-std-usa-dollar="field"\r\n           data-z-validate\r\n           type="text"\r\n            />\r\n</tru-label>'),a.put("src/templates/edit/std-usa-zip-5-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input data-ng-model="field.value.$"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           data-ng-trim="false"\r\n           data-std-integer-only="field"\r\n           data-z-validate\r\n           maxlength="5"\r\n           placeholder="_____"\r\n           type="text"\r\n            />\r\n</tru-label>'),a.put("src/templates/edit/std-usa-zip-9-edit.html",'<tru-label label="{{label}}" field="field">\r\n    <input data-ng-model="field.value.$"\r\n           data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n           data-ng-trim="false"\r\n           data-std-zip\r\n           data-z-validate\r\n           maxlength="10"\r\n           placeholder="_________"\r\n           type="text"\r\n            />\r\n</tru-label>'),a.put("src/templates/list/std-checkbox-list-edit.html",'<div>\r\n    <div class="ttl-checkbox-list-wrapper">\r\n        <input data-ng-model="field.value.$"\r\n               data-ng-checked="field.value.$"\r\n               data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n               data-std-indeterminate="field.type.isNullable"\r\n               class="ttl-checkbox-list"\r\n               type="checkbox">\r\n    </div>\r\n</div>\r\n\r\n'),a.put("src/templates/list/std-checkbox-list.html",'<div tabindex="-1">\r\n    <div class="ttl-checkbox-list-wrapper" tabindex="-1">\r\n        <input data-ng-model="field.value.$"\r\n            data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n            data-std-indeterminate="field.type.isNullable"\r\n            tabindex="-1"\r\n            class="ttl-checkbox-list"\r\n            type="checkbox"/>\r\n    </div>\r\n</div>'),a.put("src/templates/list/std-dropdown-list.html",'<tru-label label="{{label}}" field="field">\r\n    <div class="ttl-dropdown-edit-wrapper">\r\n        <div data-ng-show="!data.show" style="position:relative;background-color:#fff;height:20px;width:100%;z-index:100;"><p>Loading...</p></div>\r\n        <select data-ng-model="data.value"\r\n                data-ng-options="x.value.$ as x.label for x in choices"\r\n                data-ng-change="onChange()"\r\n                data-ng-disabled="!field.context.isEditing || !field.type.canEdit"\r\n                data-ng-show="data.show"\r\n                data-z-validate\r\n                class=" dropdown control"\r\n                data-ng-class="showGoTo() ? \'ttl-dropdown-edit\' : \'ttl-dropdown-edit-no-button\'">\r\n        </select>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/list/std-text-list.html","<div>\r\n    <p>{{field.value.$}}</p>\r\n</div>\r\n"),a.put("src/templates/query/std-boolean-dropdown-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined() || !valueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div style="padding-left:18px;">\r\n        <select data-ng-model="field.value.$"\r\n                ng-change="updateQueryPredicate()"\r\n                data-ng-disabled="field.context.isEditing"\r\n                data-ng-options="x.value.$ as x.label for x in choices"\r\n                data-ng-if="valueIsUndefined()"\r\n                std-select-value-converter\r\n                class="dropdown control"\r\n                >\r\n\r\n        </select>\r\n        <p data-ng-if="!valueIsUndefined()">{{data.label}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-checkbox-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined() || !valueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div class="ttl-checkbox-query-wrapper">\r\n        <input data-ng-model="field.value.$"\r\n               data-ng-change="updateQueryPredicate()"\r\n               data-ng-disabled="field.context.isEditing"\r\n               data-std-indeterminate\r\n               data-ng-if="valueIsUndefined()"\r\n               type="checkbox"/>\r\n        <p data-ng-if="!valueIsUndefined()">{{field.value.$}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-date-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': field.value.$}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="field.value.$ = undefined"></i>\r\n    </div>\r\n    <div style="padding-left:18px;">\r\n        <input data-ng-model="field.value.$"\r\n               data-ng-change="updateQueryPredicate()"\r\n               data-ng-disabled="field.context.isEditing"\r\n               data-ng-trim="false"\r\n               data-std-date\r\n               type="text"\r\n                />\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-date-range-query.html",'<tru-label label="{{label}}">\r\n    <div>\r\n        <div class="ttl-integer-range-query-start">\r\n            <div data-ng-class="{\'ttl-operator-icon-has-value\': data.startDate}" class="ttl-operator-icon-wrapper" title="{{startOperatorImageMessage}}">\r\n                <i tabindex="-1" class="ttl-operator-icon" data-ng-class="startOperatorImage" data-ng-click="onStartOperatorClick()"></i>\r\n            </div>\r\n            <div style="padding-left:18px;">\r\n                <input data-ng-model="data.startDate"\r\n                       data-ng-change="updateQueryPredicate()"\r\n                       data-ng-disabled="field.property.startValue || field.context.isEditing"\r\n                       data-ng-trim="false"\r\n                       data-std-date\r\n                       type="text"\r\n                       >\r\n            </div>\r\n        </div>\r\n        <div class="ttl-integer-range-query-end">\r\n            <div data-ng-class="{\'ttl-operator-icon-has-value\': data.endDate}" class="ttl-operator-icon-wrapper" title="{{endOperatorImageMessage}}">\r\n                <i tabindex="-1" class="ttl-operator-icon ttl-integer-range-query-end-icon" data-ng-class="endOperatorImage" data-ng-click="onEndOperatorClick()"></i>\r\n            </div>\r\n            <div class="ttl-integer-range-query-end-input-wrapper">\r\n                <input data-ng-model="data.endDate"\r\n                       data-ng-change="updateQueryPredicate()"\r\n                       data-ng-disabled="field.property.endValue || field.context.isEditing"\r\n                       data-ng-trim="false"\r\n                       data-std-date\r\n                       type="text"\r\n                       >\r\n            </div>\r\n        </div>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-date-span-query.html",'<tru-label label="{{label}}">\r\n    <div>\r\n        <div class="ttl-integer-range-query-start">\r\n            <std-date-query label="" field="field.children.start"></std-date-query>\r\n        </div>\r\n        <div class="ttl-integer-range-query-end">\r\n            <std-date-query label="" field="field.children.end"></std-date-query>\r\n        </div>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-datetime-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': field.value.$}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="field.value.$ = undefined"></i>\r\n    </div>\r\n    <div style="padding-left:18px;">\r\n        <input data-ng-model="field.value.$"\r\n               data-ng-change="updateQueryPredicate()"\r\n               data-ng-disabled="field.context.isEditing"\r\n               data-ng-trim="false"\r\n               data-std-date\r\n               type="text"\r\n                />\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-datetime-range-query.html",'<tru-label label="{{label}}">\r\n    <div>\r\n        <div class="ttl-integer-range-query-start">\r\n            <div data-ng-class="{\'ttl-operator-icon-has-value\': data.startValue}" class="ttl-operator-icon-wrapper" title="{{startOperatorImageMessage}}">\r\n                <i tabindex="-1" class="ttl-operator-icon" data-ng-class="startOperatorImage" data-ng-click="data.startValue = undefined"></i>\r\n            </div>\r\n            <div style="padding-left:18px;">\r\n                <input data-ng-model="data.startDate"\r\n                       data-ng-change="updateQueryPredicate()"\r\n                       data-ng-disabled="field.property.startValue || field.context.isEditing"\r\n                       data-ng-trim="false"\r\n                       data-std-date\r\n                       type="text"\r\n                       class="text text_full">\r\n                <input data-ng-model="data.startDate"\r\n                       data-ng-change="updateQueryPredicate()"\r\n                       data-ng-disabled="field.property.endValue"\r\n                       data-ng-trim="false"\r\n                       data-std-time\r\n                       type="text"\r\n                       class="text text_full">\r\n            </div>\r\n        </div>\r\n        <div class="ttl-integer-range-query-end">\r\n            <div data-ng-class="{\'ttl-operator-icon-has-value\': data.endValue}" class="ttl-operator-icon-wrapper" title="{{endOperatorImageMessage}}">\r\n                <i tabindex="-1" class="ttl-operator-icon ttl-integer-range-query-end-icon" data-ng-class="endOperatorImage" data-ng-click="data.endValue = undefined"></i>\r\n            </div>\r\n            <div class="ttl-integer-range-query-end-input-wrapper">\r\n                <input data-ng-model="data.endDate"\r\n                       data-ng-change="updateQueryPredicate()"\r\n                       data-ng-disabled="field.property.endValue || field.context.isEditing"\r\n                       data-ng-trim="false"\r\n                       data-std-date\r\n                       type="text"\r\n                       class="text text_full">\r\n                <input data-ng-model="data.endDate"\r\n                       data-ng-change="updateQueryPredicate()"\r\n                       data-ng-disabled="field.property.endValue"\r\n                       data-ng-trim="false"\r\n                       data-std-time\r\n                       type="text"\r\n                       class="text text_full">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-datetime-span-query.html",'<tru-label label="{{label}}">\r\n    <div>\r\n        <div class="ttl-integer-range-query-start">\r\n            <std-datetime-query label="Zip" field="field.children.zip"></std-datetime-query>\r\n        </div>\r\n        <div class="ttl-integer-range-query-end">\r\n            <std-integer-query label="Zip" field="field.children.zip"></std-integer-query>\r\n        </div>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-decimal-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div class="ttl-integer-query-wrapper">\r\n        <input data-ng-model="field.value.$"\r\n               data-ng-change="updateQueryPredicate()"\r\n               data-ng-disabled="field.context.isEditing"\r\n               data-ng-if="valueIsUndefined()"\r\n               data-ng-trim="false"\r\n               data-std-decimal="field"\r\n               type="text"\r\n                />\r\n        <p data-ng-if="!valueIsUndefined()">{{field.value.$}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-dropdown-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined() || !valueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div style="padding-left:18px;">\r\n        <select data-ng-model="field.value.$"\r\n                data-ng-change="updateQueryPredicate()"\r\n                data-ng-disabled="field.context.isEditing"\r\n                data-ng-options="x.value.$ as x.label for x in data.choices"\r\n                data-ng-if="valueIsUndefined()"\r\n                std-select-value-converter\r\n                class="ttl-dropdown-edit dropdown control"\r\n                >\r\n        </select>\r\n        <p data-ng-if="!valueIsUndefined()">{{data.label}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-float-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div class="ttl-integer-query-wrapper">\r\n        <input data-ng-model="field.value.$"\r\n               data-ng-change="updateQueryPredicate()"\r\n               data-ng-disabled="field.context.isEditing"\r\n               data-ng-if="valueIsUndefined()"\r\n               data-ng-trim="false"\r\n               data-std-float="field.type.isNullable"\r\n               type="text"\r\n                />\r\n        <p data-ng-if="!valueIsUndefined()">{{field.value.$}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-integer-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div class="ttl-integer-query-wrapper">\r\n        <input data-ng-model="field.value.$"\r\n               data-ng-change="updateQueryPredicate()"\r\n               data-ng-disabled="field.context.isEditing"\r\n               data-ng-model-options="{allowInvalid:true}"\r\n               data-ng-if="valueIsUndefined()"\r\n               data-ng-trim="false"\r\n               data-std-integer-only="field"\r\n               type="text"\r\n                />\r\n        <p data-ng-if="!valueIsUndefined()">{{field.value.$}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-integer-range-query.html",'<tru-label label="{{label}}">\r\n    <div>\r\n        <div class="ttl-integer-range-query-start">\r\n            <div data-ng-class="{\'ttl-operator-icon-has-value\': data.startValue}" class="ttl-operator-icon-wrapper" title="{{startOperatorImageMessage}}">\r\n                <i tabindex="-1" class="ttl-operator-icon" data-ng-class="startOperatorImage" data-ng-click="onStartOperatorClick()"></i>\r\n            </div>\r\n            <div style="padding-left:18px;">\r\n                <input data-ng-model="data.startValue"\r\n                       data-ng-change="updateQueryPredicate()"\r\n                       data-ng-disabled="field.property.startValue || field.context.isEditing"\r\n                       data-ng-trim="false"\r\n                       data-std-integer-only="field"\r\n                       type="text"\r\n                       class="text text_full">\r\n            </div>\r\n        </div>\r\n        <div class="ttl-integer-range-query-end">\r\n            <div data-ng-class="{\'ttl-operator-icon-has-value\': data.endValue}" class="ttl-operator-icon-wrapper" title="{{endOperatorImageMessage}}">\r\n                <i tabindex="-1" class="ttl-operator-icon ttl-integer-range-query-end-icon" data-ng-class="endOperatorImage" data-ng-click="onEndOperatorClick()"></i>\r\n            </div>\r\n            <div class="ttl-integer-range-query-end-input-wrapper">\r\n                <input data-ng-model="data.endValue"\r\n                       data-ng-change="updateQueryPredicate()"\r\n                       data-ng-disabled="field.property.endValue || field.context.isEditing"\r\n                       data-ng-trim="false"\r\n                       data-std-integer-only="field"\r\n                       type="text"\r\n                       class="text text_full">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-intl-address-basic-query.html",'<tru-label label="{{label}}" field="field">\r\n    <div>\r\n        <std-textbox-edit label="Address 1" field="field.children.address1"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-textbox-edit label="Address 2" field="field.children.address2"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-textbox-edit label="Country" field="field.children.country"></std-textbox-edit>\r\n    </div>\r\n    <div style="margin-top:5px;width:100%;">\r\n        <div style="float:left;width: calc(100% - 255px);">\r\n            <std-textbox-edit label="State/Province" field="field.children.stateProvince"></std-textbox-edit>\r\n        </div>\r\n        <div style="float:left;width:115px">\r\n            <std-textbox-edit label="City" field="field.children.city"></std-textbox-edit>\r\n        </div>\r\n        <div style="float:left;width:140px">\r\n            <std-textbox-edit label="Postal Code" field="field.children.postalCode"></std-textbox-edit>\r\n        </div>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-intl-address-query.html",'<tru-label label="{{label}}" field="field">\r\n    <div>\r\n        <std-textbox-query label="Address 1" field="field.children.address1"></std-textbox-query>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-textbox-query label="Address 2" field="field.children.address2"></std-textbox-query>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-dropdown-query label="Country" field="field.children.country"></std-dropdown-query>\r\n    </div>\r\n    <div style="margin-top:5px;width:100%;">\r\n        <div style="float:left;width: calc(100% - 370px);">\r\n            <std-textbox-query label="City" field="field.children.city"></std-textbox-query>\r\n        </div>\r\n        <div style="float:left;width:175px">\r\n            <std-dropdown-query label="State/Province" field="field.children.stateProvince"></std-dropdown-query>\r\n        </div>\r\n        <div style="float:left;width:195px">\r\n            <std-textbox-query label="Postal Code" field="field.children.postalCode"></std-textbox-query>\r\n        </div>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-null-not-null-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined() || !valueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div style="padding-left:18px;">\r\n        <select data-ng-model="field.value.$"\r\n                data-ng-change="updateQueryPredicate()"\r\n                data-ng-disabled="field.context.isEditing"\r\n                data-ng-options="x.value.$ as x.label for x in data.choices"\r\n                data-ng-if="valueIsUndefined()"\r\n                std-select-value-converter\r\n                class="ttl-dropdown-edit dropdown control"\r\n                >\r\n        </select>\r\n        <p data-ng-if="!valueIsUndefined()">{{data.label}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-or-list-checkbox-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': checked || !valueIsUndefined() }" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div class="ttl-or-list-checkbox-query-wrapper">\r\n        <ul class="hList tickGroup" data-ng-if="valueIsUndefined()" data-tru-label-container>\r\n            <li data-ng-repeat="choice in data.choices">\r\n                <label class="checkbox">\r\n                    <input class="ttl-or-list-checkbox" type="checkbox" data-ng-model="choice.checked" data-ng-disabled="field.context.isEditing" data-ng-change="updateQueryPredicate()"/>{{choice.label}}\r\n                </label>\r\n            </li>\r\n        </ul>\r\n        <p data-ng-if="!valueIsUndefined()">{{data.labels.join()}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-percent-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div class="ttl-integer-query-wrapper">\r\n        <input data-ng-model="field.value.$"\r\n               data-ng-change="updateQueryPredicate()"\r\n               data-ng-disabled="field.context.isEditing"\r\n               data-ng-if="valueIsUndefined()"\r\n               data-ng-trim="false"\r\n               data-std-percent="field"\r\n               type="text"\r\n                />\r\n        <p data-ng-if="!valueIsUndefined()">{{field.value.$}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-radio-list-button-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': checked || !valueIsUndefined() }" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div class="ttl-radio-list-button-wrapper">\r\n        <form data-ng-if="valueIsUndefined()">\r\n            <ul class="hList tickGroup">\r\n                <li data-ng-repeat="choice in data.choices">\r\n                    <label class="checkbox">\r\n                        <input type="radio" name="$parent.label" data-ng-model="choice.checked" data-ng-value="true" data-ng-disabled="field.context.isEditing" data-ng-change="updateQueryPredicate()"/>{{choice.label}}\r\n                    </label>\r\n                </li>\r\n            </ul>\r\n        </form>\r\n        <p data-ng-if="!valueIsUndefined()">{{data.labels.join()}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-record-picker-query.html",'<div class="ttl-record-picker-outer-wrapper">\r\n    <div\r\n            std-modals\r\n            ng-show="subview"\r\n            class="ttl-modals"\r\n            ng-switch="subview">\r\n        <div data-ng-controller="stdRecordPickerModalController"\r\n             data-ng-switch-when="recordPicker"\r\n             data-ng-style="{\'height\': modal.height, \'width\': modal.width}"\r\n             data-tru-label-container\r\n             data-std-trap-focus\r\n             class="ttl-modal">\r\n            <div style="position:absolute;top:0;left:0;right:0;height:30px;">\r\n                <h4 style="margin-left: 5px;margin-top: 5px;float:left;">\r\n                    {{title}} Picker\r\n                </h4>\r\n                <button type="button" style="float:right;font-size:12px;padding:0;margin-right: 5px;margin-top: 5px;" class="desktop-btn desktop-btn-default desktop-window-close-button excluded" data-ng-class="{\'desktop-window-close-button\': window.active}" title="Close Dialog - [ESC]" data-ng-click="cancel($event)" tabindex="-1">\r\n                    <span class="desktop-icon-close"></span>\r\n                </button>\r\n            </div>\r\n            <div style="position:absolute;top:30px;left:0;right:0;bottom:35px">\r\n                <div std-picker-view style="position:absolute;top:0;left:0;right:0;bottom:0;"></div>\r\n            </div>\r\n            <div style="position:absolute;left:0;right:0;bottom:0;height:35px;">\r\n                <div style="float:right;margin-right:5px;margin-top: 5px;">\r\n                    <button data-ng-click="submit()"\r\n                            data-ng-keydown="submitByEnter($event)"\r\n                            data-ng-disabled="!selectedId || childSearchIsFocused"\r\n                            data-ng-class="{\'tvl-btn-primary\': selectedId && !childSearchIsFocused}"\r\n                            type="button"\r\n                            class="tvl-btn">Set\r\n                    </button>\r\n                    <button data-ng-click="clear()"\r\n                            data-ng-if="field.type.isNullable"\r\n                            data-ng-keydown="onClearKeydown($event)"\r\n                            type="button"\r\n                            title="Sets the value to null in the database"\r\n                            class="tvl-btn">Set No Value\r\n                    </button>\r\n                    <button data-ng-click="cancel($event)"\r\n                            type="button"\r\n                            class="tvl-btn"\r\n                            >Cancel\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-n" data-std-resizable data-modal="modal" data-direction="n"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-s" data-std-resizable data-modal="modal" data-direction="s"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-e" data-std-resizable data-modal="modal" data-direction="e"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-w" data-std-resizable data-modal="modal" data-direction="w"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-ne" data-std-resizable data-modal="modal" data-direction="ne"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-nw" data-std-resizable data-modal="modal" data-direction="nw"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-se" data-std-resizable data-modal="modal" data-direction="se"></span>\r\n            <span class="ttl-modal-resizable-handle ttl-modal-resizable-sw" data-std-resizable data-modal="modal" data-direction="sw"></span>\r\n        </div>\r\n    </div>\r\n    <tru-label field="field" label="{{label}}">\r\n        <div class="ttl-record-picker-query-wrapper">\r\n            <div style="float:left;height: 20px;width:19px;background-color:#fff;">\r\n                <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined() || !valueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n                    <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n                </div>\r\n            </div>\r\n            <div data-ng-mousedown="onInputMousedown()" style="float:left;width: calc(100% - 25px);background-color:#fff;">\r\n                <input data-ng-model="data.displayValue"\r\n                       data-ng-if="valueIsUndefined()"\r\n                       data-ng-disabled="field.context.isEditing || open"\r\n                       disabled="disabled"\r\n                       type="text"\r\n                       />\r\n            </div>\r\n            <button data-ng-click="onClick()"\r\n                    data-ng-keydown="onKeydown($event)"\r\n                    data-ng-disabled="field.context.isEditing || open"\r\n                    data-ng-if="valueIsUndefined()"\r\n                    class="tvl-btn"\r\n                    style="float:left;height:20px;width:25px;padding:0;position:relative;"\r\n                    >...\r\n                <i style="color:green;margin-left:5px;margin-top:3px;position:absolute;z-index:5;top:0;left:-20px;" class="ttl-date-button-icon icon-arrow-right animated shake" data-ng-show="showArrow"></i>\r\n            </button>\r\n            <p data-ng-if="!valueIsUndefined()">{{data.label}}</p>\r\n        </div>\r\n    </tru-label>\r\n</div>'),a.put("src/templates/query/std-textbox-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div class="ttl-textbox-query-wrapper">\r\n        <input data-ng-model="field.value.$"\r\n               data-ng-change="updateQueryPredicate()"\r\n               data-ng-disabled="field.context.isEditing"\r\n               data-ng-if="valueIsUndefined()"\r\n               data-ng-trim="false"\r\n               type="text"\r\n               style=""\r\n                />\r\n        <p data-ng-if="!valueIsUndefined()">{{field.value.$}}</p>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-usa-address-query.html",'<tru-label label="{{label}}" field="field">\r\n    <div>\r\n        <std-textbox-query label="Address 1" field="field.children.address1"></std-textbox-query>\r\n    </div>\r\n    <div style="margin-top:5px">\r\n        <std-textbox-query label="Address 2" field="field.children.address2"></std-textbox-query>\r\n    </div>\r\n    <div style="margin-top:5px;width:100%;height:20px;">\r\n        <div style="float:left;width: calc(100% - 255px);">\r\n            <std-textbox-query label="City" field="field.children.city"></std-textbox-query>\r\n        </div>\r\n        <div style="float:left;width:115px">\r\n            <std-dropdown-query label="State" field="field.children.state"></std-dropdown-query>\r\n        </div>\r\n        <div style="float:left;width:140px">\r\n            <std-integer-query label="Zip" field="field.children.zip"></std-integer-query>\r\n        </div>\r\n    </div>\r\n</tru-label>'),a.put("src/templates/query/std-usa-dollar-query.html",'<tru-label label="{{label}}">\r\n    <div data-ng-class="{\'ttl-operator-icon-has-value\': !controlValueIsUndefined()}" class="ttl-operator-icon-wrapper" title="{{operatorImageMessage}}">\r\n        <i tabindex="-1" class="ttl-operator-icon" data-ng-class="operatorImage" data-ng-click="onOperatorClick()"></i>\r\n    </div>\r\n    <div class="ttl-integer-query-wrapper">\r\n        <input data-ng-model="field.value.$"\r\n               data-ng-change="updateQueryPredicate()"\r\n               data-ng-disabled="field.context.isEditing"\r\n               data-ng-if="valueIsUndefined()"\r\n               data-ng-trim="false"\r\n               data-std-usa-dollar="field"\r\n               type="text"\r\n                />\r\n        <p data-ng-if="!valueIsUndefined()">{{field.value.$}}</p>\r\n    </div>\r\n</tru-label>')
}]);